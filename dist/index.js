var ul=Object.create;var $n=Object.defineProperty;var ll=Object.getOwnPropertyDescriptor;var cl=Object.getOwnPropertyNames;var fl=Object.getPrototypeOf,dl=Object.prototype.hasOwnProperty;var Gi=(t,r)=>()=>(t&&(r=t(t=0)),r);var I=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports),hl=(t,r)=>{for(var o in r)$n(t,o,{get:r[o],enumerable:!0})},pl=(t,r,o,i)=>{if(r&&typeof r=="object"||typeof r=="function")for(let a of cl(r))!dl.call(t,a)&&a!==o&&$n(t,a,{get:()=>r[a],enumerable:!(i=ll(r,a))||i.enumerable});return t};var Ke=(t,r,o)=>(o=t!=null?ul(fl(t)):{},pl(r||!t||!t.__esModule?$n(o,"default",{value:t,enumerable:!0}):o,t));var Ji={};hl(Ji,{toFormData:()=>Sl});function wl(t){let r=t.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!r)return;let o=r[2]||r[3]||"",i=o.slice(o.lastIndexOf("\\")+1);return i=i.replace(/%22/g,'"'),i=i.replace(/&#(\d{4});/g,(a,u)=>String.fromCharCode(u)),i}async function Sl(t,r){if(!/multipart/i.test(r))throw new TypeError("Failed to fetch");let o=r.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!o)throw new TypeError("no or bad content-type header, no multipart boundary");let i=new Nn(o[1]||o[2]),a,u,c,h,p,f,y=[],_=new Xe,R=A=>{c+=C.decode(A,{stream:!0})},T=A=>{y.push(A)},g=()=>{let A=new zt(y,f,{type:p});_.append(h,A)},w=()=>{_.append(h,c)},C=new TextDecoder("utf-8");C.decode(),i.onPartBegin=function(){i.onPartData=R,i.onPartEnd=w,a="",u="",c="",h="",p="",f=null,y.length=0},i.onHeaderField=function(A){a+=C.decode(A,{stream:!0})},i.onHeaderValue=function(A){u+=C.decode(A,{stream:!0})},i.onHeaderEnd=function(){if(u+=C.decode(),a=a.toLowerCase(),a==="content-disposition"){let A=u.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);A&&(h=A[2]||A[3]||""),f=wl(u),f&&(i.onPartData=T,i.onPartEnd=g)}else a==="content-type"&&(p=u);u="",a=""};for await(let A of t)i.write(A);return i.end(),_}var Se,W,Qi,je,Or,qr,ml,Nt,bl,yl,gl,_l,Ze,Nn,Ki=Gi(()=>{Br();Se=0,W={START_BOUNDARY:Se++,HEADER_FIELD_START:Se++,HEADER_FIELD:Se++,HEADER_VALUE_START:Se++,HEADER_VALUE:Se++,HEADER_VALUE_ALMOST_DONE:Se++,HEADERS_ALMOST_DONE:Se++,PART_DATA_START:Se++,PART_DATA:Se++,END:Se++},Qi=1,je={PART_BOUNDARY:Qi,LAST_BOUNDARY:Qi*=2},Or=10,qr=13,ml=32,Nt=45,bl=58,yl=97,gl=122,_l=t=>t|32,Ze=()=>{},Nn=class{constructor(r){this.index=0,this.flags=0,this.onHeaderEnd=Ze,this.onHeaderField=Ze,this.onHeadersEnd=Ze,this.onHeaderValue=Ze,this.onPartBegin=Ze,this.onPartData=Ze,this.onPartEnd=Ze,this.boundaryChars={},r=`\r
--`+r;let o=new Uint8Array(r.length);for(let i=0;i<r.length;i++)o[i]=r.charCodeAt(i),this.boundaryChars[o[i]]=!0;this.boundary=o,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=W.START_BOUNDARY}write(r){let o=0,i=r.length,a=this.index,{lookbehind:u,boundary:c,boundaryChars:h,index:p,state:f,flags:y}=this,_=this.boundary.length,R=_-1,T=r.length,g,w,C=q=>{this[q+"Mark"]=o},A=q=>{delete this[q+"Mark"]},N=(q,$,F,_e)=>{($===void 0||$!==F)&&this[q](_e&&_e.subarray($,F))},ie=(q,$)=>{let F=q+"Mark";F in this&&($?(N(q,this[F],o,r),delete this[F]):(N(q,this[F],r.length,r),this[F]=0))};for(o=0;o<i;o++)switch(g=r[o],f){case W.START_BOUNDARY:if(p===c.length-2){if(g===Nt)y|=je.LAST_BOUNDARY;else if(g!==qr)return;p++;break}else if(p-1===c.length-2){if(y&je.LAST_BOUNDARY&&g===Nt)f=W.END,y=0;else if(!(y&je.LAST_BOUNDARY)&&g===Or)p=0,N("onPartBegin"),f=W.HEADER_FIELD_START;else return;break}g!==c[p+2]&&(p=-2),g===c[p+2]&&p++;break;case W.HEADER_FIELD_START:f=W.HEADER_FIELD,C("onHeaderField"),p=0;case W.HEADER_FIELD:if(g===qr){A("onHeaderField"),f=W.HEADERS_ALMOST_DONE;break}if(p++,g===Nt)break;if(g===bl){if(p===1)return;ie("onHeaderField",!0),f=W.HEADER_VALUE_START;break}if(w=_l(g),w<yl||w>gl)return;break;case W.HEADER_VALUE_START:if(g===ml)break;C("onHeaderValue"),f=W.HEADER_VALUE;case W.HEADER_VALUE:g===qr&&(ie("onHeaderValue",!0),N("onHeaderEnd"),f=W.HEADER_VALUE_ALMOST_DONE);break;case W.HEADER_VALUE_ALMOST_DONE:if(g!==Or)return;f=W.HEADER_FIELD_START;break;case W.HEADERS_ALMOST_DONE:if(g!==Or)return;N("onHeadersEnd"),f=W.PART_DATA_START;break;case W.PART_DATA_START:f=W.PART_DATA,C("onPartData");case W.PART_DATA:if(a=p,p===0){for(o+=R;o<T&&!(r[o]in h);)o+=_;o-=R,g=r[o]}if(p<c.length)c[p]===g?(p===0&&ie("onPartData",!0),p++):p=0;else if(p===c.length)p++,g===qr?y|=je.PART_BOUNDARY:g===Nt?y|=je.LAST_BOUNDARY:p=0;else if(p-1===c.length)if(y&je.PART_BOUNDARY){if(p=0,g===Or){y&=~je.PART_BOUNDARY,N("onPartEnd"),N("onPartBegin"),f=W.HEADER_FIELD_START;break}}else y&je.LAST_BOUNDARY&&g===Nt?(N("onPartEnd"),f=W.END,y=0):p=0;if(p>0)u[p-1]=g;else if(a>0){let q=new Uint8Array(u.buffer,u.byteOffset,u.byteLength);N("onPartData",0,a,q),a=0,C("onPartData"),o--}break;case W.END:break;default:throw new Error(`Unexpected state entered: ${f}`)}ie("onHeaderField"),ie("onHeaderValue"),ie("onPartData"),this.index=p,this.state=f,this.flags=y}end(){if(this.state===W.HEADER_FIELD_START&&this.index===0||this.state===W.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==W.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}});function Rl(t){if(!/^data:/i.test(t))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');t=t.replace(/\r?\n/g,"");let r=t.indexOf(",");if(r===-1||r<=4)throw new TypeError("malformed data: URI");let o=t.substring(5,r).split(";"),i="",a=!1,u=o[0]||"text/plain",c=u;for(let y=1;y<o.length;y++)o[y]==="base64"?a=!0:(c+=`;${o[y]}`,o[y].indexOf("charset=")===0&&(i=o[y].substring(8)));!o[0]&&!i.length&&(c+=";charset=US-ASCII",i="US-ASCII");let h=a?"base64":"ascii",p=unescape(t.substring(r+1)),f=Buffer.from(p,h);return f.type=u,f.typeFull=c,f.charset=i,f}function vl(){return Zi||(Zi=1,function(t,r){(function(o,i){i(r)})(zn,function(o){let i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:e=>`Symbol(${e})`;function a(){}function u(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof zn<"u")return zn}let c=u();function h(e){return typeof e=="object"&&e!==null||typeof e=="function"}let p=a,f=Promise,y=Promise.prototype.then,_=Promise.resolve.bind(f),R=Promise.reject.bind(f);function T(e){return new f(e)}function g(e){return _(e)}function w(e){return R(e)}function C(e,n,s){return y.call(e,n,s)}function A(e,n,s){C(C(e,n,s),void 0,p)}function N(e,n){A(e,n)}function ie(e,n){A(e,void 0,n)}function q(e,n,s){return C(e,n,s)}function $(e){C(e,void 0,p)}let F=(()=>{let e=c&&c.queueMicrotask;if(typeof e=="function")return e;let n=g(void 0);return s=>C(n,s)})();function _e(e,n,s){if(typeof e!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,n,s)}function Ee(e,n,s){try{return g(_e(e,n,s))}catch(l){return w(l)}}let Do=16384;class ce{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(n){let s=this._back,l=s;s._elements.length===Do-1&&(l={_elements:[],_next:void 0}),s._elements.push(n),l!==s&&(this._back=l,s._next=l),++this._size}shift(){let n=this._front,s=n,l=this._cursor,d=l+1,m=n._elements,b=m[l];return d===Do&&(s=n._next,d=0),--this._size,this._cursor=d,n!==s&&(this._front=s),m[l]=void 0,b}forEach(n){let s=this._cursor,l=this._front,d=l._elements;for(;(s!==d.length||l._next!==void 0)&&!(s===d.length&&(l=l._next,d=l._elements,s=0,d.length===0));)n(d[s]),++s}peek(){let n=this._front,s=this._cursor;return n._elements[s]}}function ko(e,n){e._ownerReadableStream=n,n._reader=e,n._state==="readable"?fn(e):n._state==="closed"?Ma(e):Lo(e,n._storedError)}function cn(e,n){let s=e._ownerReadableStream;return he(s,n)}function Te(e){e._ownerReadableStream._state==="readable"?dn(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):Wa(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function ot(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function fn(e){e._closedPromise=T((n,s)=>{e._closedPromise_resolve=n,e._closedPromise_reject=s})}function Lo(e,n){fn(e),dn(e,n)}function Ma(e){fn(e),Io(e)}function dn(e,n){e._closedPromise_reject!==void 0&&($(e._closedPromise),e._closedPromise_reject(n),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function Wa(e,n){Lo(e,n)}function Io(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}let Fo=i("[[AbortSteps]]"),Mo=i("[[ErrorSteps]]"),hn=i("[[CancelSteps]]"),pn=i("[[PullSteps]]"),Wo=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},Ua=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function xa(e){return typeof e=="object"||typeof e=="function"}function Pe(e,n){if(e!==void 0&&!xa(e))throw new TypeError(`${n} is not an object.`)}function fe(e,n){if(typeof e!="function")throw new TypeError(`${n} is not a function.`)}function ja(e){return typeof e=="object"&&e!==null||typeof e=="function"}function Uo(e,n){if(!ja(e))throw new TypeError(`${n} is not an object.`)}function Ae(e,n,s){if(e===void 0)throw new TypeError(`Parameter ${n} is required in '${s}'.`)}function mn(e,n,s){if(e===void 0)throw new TypeError(`${n} is required in '${s}'.`)}function bn(e){return Number(e)}function xo(e){return e===0?0:e}function $a(e){return xo(Ua(e))}function jo(e,n){let l=Number.MAX_SAFE_INTEGER,d=Number(e);if(d=xo(d),!Wo(d))throw new TypeError(`${n} is not a finite number`);if(d=$a(d),d<0||d>l)throw new TypeError(`${n} is outside the accepted range of ${0} to ${l}, inclusive`);return!Wo(d)||d===0?0:d}function yn(e,n){if(!We(e))throw new TypeError(`${n} is not a ReadableStream.`)}function it(e){return new Ct(e)}function $o(e,n){e._reader._readRequests.push(n)}function gn(e,n,s){let d=e._reader._readRequests.shift();s?d._closeSteps():d._chunkSteps(n)}function Kt(e){return e._reader._readRequests.length}function No(e){let n=e._reader;return!(n===void 0||!Le(n))}class Ct{constructor(n){if(Ae(n,1,"ReadableStreamDefaultReader"),yn(n,"First parameter"),Ue(n))throw new TypeError("This stream has already been locked for exclusive reading by another reader");ko(this,n),this._readRequests=new ce}get closed(){return Le(this)?this._closedPromise:w(Zt("closed"))}cancel(n=void 0){return Le(this)?this._ownerReadableStream===void 0?w(ot("cancel")):cn(this,n):w(Zt("cancel"))}read(){if(!Le(this))return w(Zt("read"));if(this._ownerReadableStream===void 0)return w(ot("read from"));let n,s,l=T((m,b)=>{n=m,s=b});return Ot(this,{_chunkSteps:m=>n({value:m,done:!1}),_closeSteps:()=>n({value:void 0,done:!0}),_errorSteps:m=>s(m)}),l}releaseLock(){if(!Le(this))throw Zt("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");Te(this)}}}Object.defineProperties(Ct.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof i.toStringTag=="symbol"&&Object.defineProperty(Ct.prototype,i.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function Le(e){return!h(e)||!Object.prototype.hasOwnProperty.call(e,"_readRequests")?!1:e instanceof Ct}function Ot(e,n){let s=e._ownerReadableStream;s._disturbed=!0,s._state==="closed"?n._closeSteps():s._state==="errored"?n._errorSteps(s._storedError):s._readableStreamController[pn](n)}function Zt(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}let zo=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class Ho{constructor(n,s){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=n,this._preventCancel=s}next(){let n=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?q(this._ongoingPromise,n,n):n(),this._ongoingPromise}return(n){let s=()=>this._returnSteps(n);return this._ongoingPromise?q(this._ongoingPromise,s,s):s()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let n=this._reader;if(n._ownerReadableStream===void 0)return w(ot("iterate"));let s,l,d=T((b,S)=>{s=b,l=S});return Ot(n,{_chunkSteps:b=>{this._ongoingPromise=void 0,F(()=>s({value:b,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,Te(n),s({value:void 0,done:!0})},_errorSteps:b=>{this._ongoingPromise=void 0,this._isFinished=!0,Te(n),l(b)}}),d}_returnSteps(n){if(this._isFinished)return Promise.resolve({value:n,done:!0});this._isFinished=!0;let s=this._reader;if(s._ownerReadableStream===void 0)return w(ot("finish iterating"));if(!this._preventCancel){let l=cn(s,n);return Te(s),q(l,()=>({value:n,done:!0}))}return Te(s),g({value:n,done:!0})}}let Vo={next(){return Yo(this)?this._asyncIteratorImpl.next():w(Go("next"))},return(e){return Yo(this)?this._asyncIteratorImpl.return(e):w(Go("return"))}};zo!==void 0&&Object.setPrototypeOf(Vo,zo);function Na(e,n){let s=it(e),l=new Ho(s,n),d=Object.create(Vo);return d._asyncIteratorImpl=l,d}function Yo(e){if(!h(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof Ho}catch{return!1}}function Go(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}let Qo=Number.isNaN||function(e){return e!==e};function qt(e){return e.slice()}function Jo(e,n,s,l,d){new Uint8Array(e).set(new Uint8Array(s,l,d),n)}function ph(e){return e}function Xt(e){return!1}function Ko(e,n,s){if(e.slice)return e.slice(n,s);let l=s-n,d=new ArrayBuffer(l);return Jo(d,0,e,n,l),d}function za(e){return!(typeof e!="number"||Qo(e)||e<0)}function Zo(e){let n=Ko(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(n)}function _n(e){let n=e._queue.shift();return e._queueTotalSize-=n.size,e._queueTotalSize<0&&(e._queueTotalSize=0),n.value}function wn(e,n,s){if(!za(s)||s===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:n,size:s}),e._queueTotalSize+=s}function Ha(e){return e._queue.peek().value}function Ie(e){e._queue=new ce,e._queueTotalSize=0}class Bt{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!Sn(this))throw Tn("view");return this._view}respond(n){if(!Sn(this))throw Tn("respond");if(Ae(n,1,"respond"),n=jo(n,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Xt(this._view.buffer),or(this._associatedReadableByteStreamController,n)}respondWithNewView(n){if(!Sn(this))throw Tn("respondWithNewView");if(Ae(n,1,"respondWithNewView"),!ArrayBuffer.isView(n))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Xt(n.buffer),ir(this._associatedReadableByteStreamController,n)}}Object.defineProperties(Bt.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof i.toStringTag=="symbol"&&Object.defineProperty(Bt.prototype,i.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class st{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!He(this))throw kt("byobRequest");return En(this)}get desiredSize(){if(!He(this))throw kt("desiredSize");return si(this)}close(){if(!He(this))throw kt("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let n=this._controlledReadableByteStream._state;if(n!=="readable")throw new TypeError(`The stream (in ${n} state) is not in the readable state and cannot be closed`);Dt(this)}enqueue(n){if(!He(this))throw kt("enqueue");if(Ae(n,1,"enqueue"),!ArrayBuffer.isView(n))throw new TypeError("chunk must be an array buffer view");if(n.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(n.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let s=this._controlledReadableByteStream._state;if(s!=="readable")throw new TypeError(`The stream (in ${s} state) is not in the readable state and cannot be enqueued to`);nr(this,n)}error(n=void 0){if(!He(this))throw kt("error");de(this,n)}[hn](n){Xo(this),Ie(this);let s=this._cancelAlgorithm(n);return rr(this),s}[pn](n){let s=this._controlledReadableByteStream;if(this._queueTotalSize>0){let d=this._queue.shift();this._queueTotalSize-=d.byteLength,ni(this);let m=new Uint8Array(d.buffer,d.byteOffset,d.byteLength);n._chunkSteps(m);return}let l=this._autoAllocateChunkSize;if(l!==void 0){let d;try{d=new ArrayBuffer(l)}catch(b){n._errorSteps(b);return}let m={buffer:d,bufferByteLength:l,byteOffset:0,byteLength:l,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(m)}$o(s,n),Ve(this)}}Object.defineProperties(st.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof i.toStringTag=="symbol"&&Object.defineProperty(st.prototype,i.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function He(e){return!h(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")?!1:e instanceof st}function Sn(e){return!h(e)||!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")?!1:e instanceof Bt}function Ve(e){if(!Qa(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let s=e._pullAlgorithm();A(s,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Ve(e))},l=>{de(e,l)})}function Xo(e){vn(e),e._pendingPullIntos=new ce}function Rn(e,n){let s=!1;e._state==="closed"&&(s=!0);let l=ei(n);n.readerType==="default"?gn(e,l,s):Za(e,l,s)}function ei(e){let n=e.bytesFilled,s=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,n/s)}function er(e,n,s,l){e._queue.push({buffer:n,byteOffset:s,byteLength:l}),e._queueTotalSize+=l}function ti(e,n){let s=n.elementSize,l=n.bytesFilled-n.bytesFilled%s,d=Math.min(e._queueTotalSize,n.byteLength-n.bytesFilled),m=n.bytesFilled+d,b=m-m%s,S=d,P=!1;b>l&&(S=b-n.bytesFilled,P=!0);let B=e._queue;for(;S>0;){let D=B.peek(),k=Math.min(S,D.byteLength),z=n.byteOffset+n.bytesFilled;Jo(n.buffer,z,D.buffer,D.byteOffset,k),D.byteLength===k?B.shift():(D.byteOffset+=k,D.byteLength-=k),e._queueTotalSize-=k,ri(e,k,n),S-=k}return P}function ri(e,n,s){s.bytesFilled+=n}function ni(e){e._queueTotalSize===0&&e._closeRequested?(rr(e),jt(e._controlledReadableByteStream)):Ve(e)}function vn(e){e._byobRequest!==null&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function oi(e){for(;e._pendingPullIntos.length>0;){if(e._queueTotalSize===0)return;let n=e._pendingPullIntos.peek();ti(e,n)&&(tr(e),Rn(e._controlledReadableByteStream,n))}}function Va(e,n,s){let l=e._controlledReadableByteStream,d=1;n.constructor!==DataView&&(d=n.constructor.BYTES_PER_ELEMENT);let m=n.constructor,b=n.buffer,S={buffer:b,bufferByteLength:b.byteLength,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:d,viewConstructor:m,readerType:"byob"};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(S),li(l,s);return}if(l._state==="closed"){let P=new m(S.buffer,S.byteOffset,0);s._closeSteps(P);return}if(e._queueTotalSize>0){if(ti(e,S)){let P=ei(S);ni(e),s._chunkSteps(P);return}if(e._closeRequested){let P=new TypeError("Insufficient bytes to fill elements in the given buffer");de(e,P),s._errorSteps(P);return}}e._pendingPullIntos.push(S),li(l,s),Ve(e)}function Ya(e,n){let s=e._controlledReadableByteStream;if(Pn(s))for(;ci(s)>0;){let l=tr(e);Rn(s,l)}}function Ga(e,n,s){if(ri(e,n,s),s.bytesFilled<s.elementSize)return;tr(e);let l=s.bytesFilled%s.elementSize;if(l>0){let d=s.byteOffset+s.bytesFilled,m=Ko(s.buffer,d-l,d);er(e,m,0,m.byteLength)}s.bytesFilled-=l,Rn(e._controlledReadableByteStream,s),oi(e)}function ii(e,n){let s=e._pendingPullIntos.peek();vn(e),e._controlledReadableByteStream._state==="closed"?Ya(e):Ga(e,n,s),Ve(e)}function tr(e){return e._pendingPullIntos.shift()}function Qa(e){let n=e._controlledReadableByteStream;return n._state!=="readable"||e._closeRequested||!e._started?!1:!!(No(n)&&Kt(n)>0||Pn(n)&&ci(n)>0||si(e)>0)}function rr(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Dt(e){let n=e._controlledReadableByteStream;if(!(e._closeRequested||n._state!=="readable")){if(e._queueTotalSize>0){e._closeRequested=!0;return}if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){let l=new TypeError("Insufficient bytes to fill elements in the given buffer");throw de(e,l),l}rr(e),jt(n)}}function nr(e,n){let s=e._controlledReadableByteStream;if(e._closeRequested||s._state!=="readable")return;let l=n.buffer,d=n.byteOffset,m=n.byteLength,b=l;if(e._pendingPullIntos.length>0){let S=e._pendingPullIntos.peek();Xt(S.buffer),S.buffer=S.buffer}if(vn(e),No(s))if(Kt(s)===0)er(e,b,d,m);else{e._pendingPullIntos.length>0&&tr(e);let S=new Uint8Array(b,d,m);gn(s,S,!1)}else Pn(s)?(er(e,b,d,m),oi(e)):er(e,b,d,m);Ve(e)}function de(e,n){let s=e._controlledReadableByteStream;s._state==="readable"&&(Xo(e),Ie(e),rr(e),Li(s,n))}function En(e){if(e._byobRequest===null&&e._pendingPullIntos.length>0){let n=e._pendingPullIntos.peek(),s=new Uint8Array(n.buffer,n.byteOffset+n.bytesFilled,n.byteLength-n.bytesFilled),l=Object.create(Bt.prototype);Ka(l,e,s),e._byobRequest=l}return e._byobRequest}function si(e){let n=e._controlledReadableByteStream._state;return n==="errored"?null:n==="closed"?0:e._strategyHWM-e._queueTotalSize}function or(e,n){let s=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(n!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(n===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(s.bytesFilled+n>s.byteLength)throw new RangeError("bytesWritten out of range")}s.buffer=s.buffer,ii(e,n)}function ir(e,n){let s=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(n.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(n.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(s.byteOffset+s.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(s.bufferByteLength!==n.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(s.bytesFilled+n.byteLength>s.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let d=n.byteLength;s.buffer=n.buffer,ii(e,d)}function ai(e,n,s,l,d,m,b){n._controlledReadableByteStream=e,n._pullAgain=!1,n._pulling=!1,n._byobRequest=null,n._queue=n._queueTotalSize=void 0,Ie(n),n._closeRequested=!1,n._started=!1,n._strategyHWM=m,n._pullAlgorithm=l,n._cancelAlgorithm=d,n._autoAllocateChunkSize=b,n._pendingPullIntos=new ce,e._readableStreamController=n;let S=s();A(g(S),()=>{n._started=!0,Ve(n)},P=>{de(n,P)})}function Ja(e,n,s){let l=Object.create(st.prototype),d=()=>{},m=()=>g(void 0),b=()=>g(void 0);n.start!==void 0&&(d=()=>n.start(l)),n.pull!==void 0&&(m=()=>n.pull(l)),n.cancel!==void 0&&(b=P=>n.cancel(P));let S=n.autoAllocateChunkSize;if(S===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");ai(e,l,d,m,b,s,S)}function Ka(e,n,s){e._associatedReadableByteStreamController=n,e._view=s}function Tn(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function kt(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function ui(e){return new Lt(e)}function li(e,n){e._reader._readIntoRequests.push(n)}function Za(e,n,s){let d=e._reader._readIntoRequests.shift();s?d._closeSteps(n):d._chunkSteps(n)}function ci(e){return e._reader._readIntoRequests.length}function Pn(e){let n=e._reader;return!(n===void 0||!Ye(n))}class Lt{constructor(n){if(Ae(n,1,"ReadableStreamBYOBReader"),yn(n,"First parameter"),Ue(n))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!He(n._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");ko(this,n),this._readIntoRequests=new ce}get closed(){return Ye(this)?this._closedPromise:w(sr("closed"))}cancel(n=void 0){return Ye(this)?this._ownerReadableStream===void 0?w(ot("cancel")):cn(this,n):w(sr("cancel"))}read(n){if(!Ye(this))return w(sr("read"));if(!ArrayBuffer.isView(n))return w(new TypeError("view must be an array buffer view"));if(n.byteLength===0)return w(new TypeError("view must have non-zero byteLength"));if(n.buffer.byteLength===0)return w(new TypeError("view's buffer must have non-zero byteLength"));if(Xt(n.buffer),this._ownerReadableStream===void 0)return w(ot("read from"));let s,l,d=T((b,S)=>{s=b,l=S});return fi(this,n,{_chunkSteps:b=>s({value:b,done:!1}),_closeSteps:b=>s({value:b,done:!0}),_errorSteps:b=>l(b)}),d}releaseLock(){if(!Ye(this))throw sr("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");Te(this)}}}Object.defineProperties(Lt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof i.toStringTag=="symbol"&&Object.defineProperty(Lt.prototype,i.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function Ye(e){return!h(e)||!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")?!1:e instanceof Lt}function fi(e,n,s){let l=e._ownerReadableStream;l._disturbed=!0,l._state==="errored"?s._errorSteps(l._storedError):Va(l._readableStreamController,n,s)}function sr(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function It(e,n){let{highWaterMark:s}=e;if(s===void 0)return n;if(Qo(s)||s<0)throw new RangeError("Invalid highWaterMark");return s}function ar(e){let{size:n}=e;return n||(()=>1)}function ur(e,n){Pe(e,n);let s=e==null?void 0:e.highWaterMark,l=e==null?void 0:e.size;return{highWaterMark:s===void 0?void 0:bn(s),size:l===void 0?void 0:Xa(l,`${n} has member 'size' that`)}}function Xa(e,n){return fe(e,n),s=>bn(e(s))}function eu(e,n){Pe(e,n);let s=e==null?void 0:e.abort,l=e==null?void 0:e.close,d=e==null?void 0:e.start,m=e==null?void 0:e.type,b=e==null?void 0:e.write;return{abort:s===void 0?void 0:tu(s,e,`${n} has member 'abort' that`),close:l===void 0?void 0:ru(l,e,`${n} has member 'close' that`),start:d===void 0?void 0:nu(d,e,`${n} has member 'start' that`),write:b===void 0?void 0:ou(b,e,`${n} has member 'write' that`),type:m}}function tu(e,n,s){return fe(e,s),l=>Ee(e,n,[l])}function ru(e,n,s){return fe(e,s),()=>Ee(e,n,[])}function nu(e,n,s){return fe(e,s),l=>_e(e,n,[l])}function ou(e,n,s){return fe(e,s),(l,d)=>Ee(e,n,[l,d])}function di(e,n){if(!at(e))throw new TypeError(`${n} is not a WritableStream.`)}function iu(e){if(typeof e!="object"||e===null)return!1;try{return typeof e.aborted=="boolean"}catch{return!1}}let su=typeof AbortController=="function";function au(){if(su)return new AbortController}class Ft{constructor(n={},s={}){n===void 0?n=null:Uo(n,"First parameter");let l=ur(s,"Second parameter"),d=eu(n,"First parameter");if(pi(this),d.type!==void 0)throw new RangeError("Invalid type is specified");let b=ar(l),S=It(l,1);Su(this,d,S,b)}get locked(){if(!at(this))throw hr("locked");return ut(this)}abort(n=void 0){return at(this)?ut(this)?w(new TypeError("Cannot abort a stream that already has a writer")):lr(this,n):w(hr("abort"))}close(){return at(this)?ut(this)?w(new TypeError("Cannot close a stream that already has a writer")):we(this)?w(new TypeError("Cannot close an already-closing stream")):mi(this):w(hr("close"))}getWriter(){if(!at(this))throw hr("getWriter");return hi(this)}}Object.defineProperties(Ft.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof i.toStringTag=="symbol"&&Object.defineProperty(Ft.prototype,i.toStringTag,{value:"WritableStream",configurable:!0});function hi(e){return new Mt(e)}function uu(e,n,s,l,d=1,m=()=>1){let b=Object.create(Ft.prototype);pi(b);let S=Object.create(lt.prototype);return Si(b,S,e,n,s,l,d,m),b}function pi(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new ce,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function at(e){return!h(e)||!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")?!1:e instanceof Ft}function ut(e){return e._writer!==void 0}function lr(e,n){var s;if(e._state==="closed"||e._state==="errored")return g(void 0);e._writableStreamController._abortReason=n,(s=e._writableStreamController._abortController)===null||s===void 0||s.abort();let l=e._state;if(l==="closed"||l==="errored")return g(void 0);if(e._pendingAbortRequest!==void 0)return e._pendingAbortRequest._promise;let d=!1;l==="erroring"&&(d=!0,n=void 0);let m=T((b,S)=>{e._pendingAbortRequest={_promise:void 0,_resolve:b,_reject:S,_reason:n,_wasAlreadyErroring:d}});return e._pendingAbortRequest._promise=m,d||Cn(e,n),m}function mi(e){let n=e._state;if(n==="closed"||n==="errored")return w(new TypeError(`The stream (in ${n} state) is not in the writable state and cannot be closed`));let s=T((d,m)=>{let b={_resolve:d,_reject:m};e._closeRequest=b}),l=e._writer;return l!==void 0&&e._backpressure&&n==="writable"&&Mn(l),Ru(e._writableStreamController),s}function lu(e){return T((s,l)=>{let d={_resolve:s,_reject:l};e._writeRequests.push(d)})}function An(e,n){if(e._state==="writable"){Cn(e,n);return}On(e)}function Cn(e,n){let s=e._writableStreamController;e._state="erroring",e._storedError=n;let l=e._writer;l!==void 0&&yi(l,n),!pu(e)&&s._started&&On(e)}function On(e){e._state="errored",e._writableStreamController[Mo]();let n=e._storedError;if(e._writeRequests.forEach(d=>{d._reject(n)}),e._writeRequests=new ce,e._pendingAbortRequest===void 0){cr(e);return}let s=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,s._wasAlreadyErroring){s._reject(n),cr(e);return}let l=e._writableStreamController[Fo](s._reason);A(l,()=>{s._resolve(),cr(e)},d=>{s._reject(d),cr(e)})}function cu(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}function fu(e,n){e._inFlightWriteRequest._reject(n),e._inFlightWriteRequest=void 0,An(e,n)}function du(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,e._state==="erroring"&&(e._storedError=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";let s=e._writer;s!==void 0&&Ti(s)}function hu(e,n){e._inFlightCloseRequest._reject(n),e._inFlightCloseRequest=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._reject(n),e._pendingAbortRequest=void 0),An(e,n)}function we(e){return!(e._closeRequest===void 0&&e._inFlightCloseRequest===void 0)}function pu(e){return!(e._inFlightWriteRequest===void 0&&e._inFlightCloseRequest===void 0)}function mu(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0}function bu(e){e._inFlightWriteRequest=e._writeRequests.shift()}function cr(e){e._closeRequest!==void 0&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);let n=e._writer;n!==void 0&&In(n,e._storedError)}function qn(e,n){let s=e._writer;s!==void 0&&n!==e._backpressure&&(n?Ou(s):Mn(s)),e._backpressure=n}class Mt{constructor(n){if(Ae(n,1,"WritableStreamDefaultWriter"),di(n,"First parameter"),ut(n))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=n,n._writer=this;let s=n._state;if(s==="writable")!we(n)&&n._backpressure?mr(this):Pi(this),pr(this);else if(s==="erroring")Fn(this,n._storedError),pr(this);else if(s==="closed")Pi(this),Au(this);else{let l=n._storedError;Fn(this,l),Ei(this,l)}}get closed(){return Ge(this)?this._closedPromise:w(Qe("closed"))}get desiredSize(){if(!Ge(this))throw Qe("desiredSize");if(this._ownerWritableStream===void 0)throw Wt("desiredSize");return wu(this)}get ready(){return Ge(this)?this._readyPromise:w(Qe("ready"))}abort(n=void 0){return Ge(this)?this._ownerWritableStream===void 0?w(Wt("abort")):yu(this,n):w(Qe("abort"))}close(){if(!Ge(this))return w(Qe("close"));let n=this._ownerWritableStream;return n===void 0?w(Wt("close")):we(n)?w(new TypeError("Cannot close an already-closing stream")):bi(this)}releaseLock(){if(!Ge(this))throw Qe("releaseLock");this._ownerWritableStream!==void 0&&gi(this)}write(n=void 0){return Ge(this)?this._ownerWritableStream===void 0?w(Wt("write to")):_i(this,n):w(Qe("write"))}}Object.defineProperties(Mt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof i.toStringTag=="symbol"&&Object.defineProperty(Mt.prototype,i.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function Ge(e){return!h(e)||!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")?!1:e instanceof Mt}function yu(e,n){let s=e._ownerWritableStream;return lr(s,n)}function bi(e){let n=e._ownerWritableStream;return mi(n)}function gu(e){let n=e._ownerWritableStream,s=n._state;return we(n)||s==="closed"?g(void 0):s==="errored"?w(n._storedError):bi(e)}function _u(e,n){e._closedPromiseState==="pending"?In(e,n):Cu(e,n)}function yi(e,n){e._readyPromiseState==="pending"?Ai(e,n):qu(e,n)}function wu(e){let n=e._ownerWritableStream,s=n._state;return s==="errored"||s==="erroring"?null:s==="closed"?0:Ri(n._writableStreamController)}function gi(e){let n=e._ownerWritableStream,s=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");yi(e,s),_u(e,s),n._writer=void 0,e._ownerWritableStream=void 0}function _i(e,n){let s=e._ownerWritableStream,l=s._writableStreamController,d=vu(l,n);if(s!==e._ownerWritableStream)return w(Wt("write to"));let m=s._state;if(m==="errored")return w(s._storedError);if(we(s)||m==="closed")return w(new TypeError("The stream is closing or closed and cannot be written to"));if(m==="erroring")return w(s._storedError);let b=lu(s);return Eu(l,n,d),b}let wi={};class lt{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!Bn(this))throw Ln("abortReason");return this._abortReason}get signal(){if(!Bn(this))throw Ln("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(n=void 0){if(!Bn(this))throw Ln("error");this._controlledWritableStream._state==="writable"&&vi(this,n)}[Fo](n){let s=this._abortAlgorithm(n);return fr(this),s}[Mo](){Ie(this)}}Object.defineProperties(lt.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof i.toStringTag=="symbol"&&Object.defineProperty(lt.prototype,i.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function Bn(e){return!h(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")?!1:e instanceof lt}function Si(e,n,s,l,d,m,b,S){n._controlledWritableStream=e,e._writableStreamController=n,n._queue=void 0,n._queueTotalSize=void 0,Ie(n),n._abortReason=void 0,n._abortController=au(),n._started=!1,n._strategySizeAlgorithm=S,n._strategyHWM=b,n._writeAlgorithm=l,n._closeAlgorithm=d,n._abortAlgorithm=m;let P=kn(n);qn(e,P);let B=s(),D=g(B);A(D,()=>{n._started=!0,dr(n)},k=>{n._started=!0,An(e,k)})}function Su(e,n,s,l){let d=Object.create(lt.prototype),m=()=>{},b=()=>g(void 0),S=()=>g(void 0),P=()=>g(void 0);n.start!==void 0&&(m=()=>n.start(d)),n.write!==void 0&&(b=B=>n.write(B,d)),n.close!==void 0&&(S=()=>n.close()),n.abort!==void 0&&(P=B=>n.abort(B)),Si(e,d,m,b,S,P,s,l)}function fr(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Ru(e){wn(e,wi,0),dr(e)}function vu(e,n){try{return e._strategySizeAlgorithm(n)}catch(s){return Dn(e,s),1}}function Ri(e){return e._strategyHWM-e._queueTotalSize}function Eu(e,n,s){try{wn(e,n,s)}catch(d){Dn(e,d);return}let l=e._controlledWritableStream;if(!we(l)&&l._state==="writable"){let d=kn(e);qn(l,d)}dr(e)}function dr(e){let n=e._controlledWritableStream;if(!e._started||n._inFlightWriteRequest!==void 0)return;if(n._state==="erroring"){On(n);return}if(e._queue.length===0)return;let l=Ha(e);l===wi?Tu(e):Pu(e,l)}function Dn(e,n){e._controlledWritableStream._state==="writable"&&vi(e,n)}function Tu(e){let n=e._controlledWritableStream;mu(n),_n(e);let s=e._closeAlgorithm();fr(e),A(s,()=>{du(n)},l=>{hu(n,l)})}function Pu(e,n){let s=e._controlledWritableStream;bu(s);let l=e._writeAlgorithm(n);A(l,()=>{cu(s);let d=s._state;if(_n(e),!we(s)&&d==="writable"){let m=kn(e);qn(s,m)}dr(e)},d=>{s._state==="writable"&&fr(e),fu(s,d)})}function kn(e){return Ri(e)<=0}function vi(e,n){let s=e._controlledWritableStream;fr(e),Cn(s,n)}function hr(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function Ln(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function Qe(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function Wt(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function pr(e){e._closedPromise=T((n,s)=>{e._closedPromise_resolve=n,e._closedPromise_reject=s,e._closedPromiseState="pending"})}function Ei(e,n){pr(e),In(e,n)}function Au(e){pr(e),Ti(e)}function In(e,n){e._closedPromise_reject!==void 0&&($(e._closedPromise),e._closedPromise_reject(n),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function Cu(e,n){Ei(e,n)}function Ti(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function mr(e){e._readyPromise=T((n,s)=>{e._readyPromise_resolve=n,e._readyPromise_reject=s}),e._readyPromiseState="pending"}function Fn(e,n){mr(e),Ai(e,n)}function Pi(e){mr(e),Mn(e)}function Ai(e,n){e._readyPromise_reject!==void 0&&($(e._readyPromise),e._readyPromise_reject(n),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function Ou(e){mr(e)}function qu(e,n){Fn(e,n)}function Mn(e){e._readyPromise_resolve!==void 0&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}let Ci=typeof DOMException<"u"?DOMException:void 0;function Bu(e){if(!(typeof e=="function"||typeof e=="object"))return!1;try{return new e,!0}catch{return!1}}function Du(){let e=function(s,l){this.message=s||"",this.name=l||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}let ku=Bu(Ci)?Ci:Du();function Oi(e,n,s,l,d,m){let b=it(e),S=hi(n);e._disturbed=!0;let P=!1,B=g(void 0);return T((D,k)=>{let z;if(m!==void 0){if(z=()=>{let E=new ku("Aborted","AbortError"),O=[];l||O.push(()=>n._state==="writable"?lr(n,E):g(void 0)),d||O.push(()=>e._state==="readable"?he(e,E):g(void 0)),Z(()=>Promise.all(O.map(M=>M())),!0,E)},m.aborted){z();return}m.addEventListener("abort",z)}function pe(){return T((E,O)=>{function M(re){re?E():C(dt(),M,O)}M(!1)})}function dt(){return P?g(!0):C(S._readyPromise,()=>T((E,O)=>{Ot(b,{_chunkSteps:M=>{B=C(_i(S,M),void 0,a),E(!1)},_closeSteps:()=>E(!0),_errorSteps:O})}))}if(Ce(e,b._closedPromise,E=>{l?se(!0,E):Z(()=>lr(n,E),!0,E)}),Ce(n,S._closedPromise,E=>{d?se(!0,E):Z(()=>he(e,E),!0,E)}),J(e,b._closedPromise,()=>{s?se():Z(()=>gu(S))}),we(n)||n._state==="closed"){let E=new TypeError("the destination writable stream closed before all data could be piped to it");d?se(!0,E):Z(()=>he(e,E),!0,E)}$(pe());function xe(){let E=B;return C(B,()=>E!==B?xe():void 0)}function Ce(E,O,M){E._state==="errored"?M(E._storedError):ie(O,M)}function J(E,O,M){E._state==="closed"?M():N(O,M)}function Z(E,O,M){if(P)return;P=!0,n._state==="writable"&&!we(n)?N(xe(),re):re();function re(){A(E(),()=>Oe(O,M),ht=>Oe(!0,ht))}}function se(E,O){P||(P=!0,n._state==="writable"&&!we(n)?N(xe(),()=>Oe(E,O)):Oe(E,O))}function Oe(E,O){gi(S),Te(b),m!==void 0&&m.removeEventListener("abort",z),E?k(O):D(void 0)}})}class ct{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!br(this))throw _r("desiredSize");return Wn(this)}close(){if(!br(this))throw _r("close");if(!ft(this))throw new TypeError("The stream is not in a state that permits close");xt(this)}enqueue(n=void 0){if(!br(this))throw _r("enqueue");if(!ft(this))throw new TypeError("The stream is not in a state that permits enqueue");return gr(this,n)}error(n=void 0){if(!br(this))throw _r("error");Fe(this,n)}[hn](n){Ie(this);let s=this._cancelAlgorithm(n);return yr(this),s}[pn](n){let s=this._controlledReadableStream;if(this._queue.length>0){let l=_n(this);this._closeRequested&&this._queue.length===0?(yr(this),jt(s)):Ut(this),n._chunkSteps(l)}else $o(s,n),Ut(this)}}Object.defineProperties(ct.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof i.toStringTag=="symbol"&&Object.defineProperty(ct.prototype,i.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function br(e){return!h(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")?!1:e instanceof ct}function Ut(e){if(!qi(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let s=e._pullAlgorithm();A(s,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Ut(e))},l=>{Fe(e,l)})}function qi(e){let n=e._controlledReadableStream;return!ft(e)||!e._started?!1:!!(Ue(n)&&Kt(n)>0||Wn(e)>0)}function yr(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function xt(e){if(!ft(e))return;let n=e._controlledReadableStream;e._closeRequested=!0,e._queue.length===0&&(yr(e),jt(n))}function gr(e,n){if(!ft(e))return;let s=e._controlledReadableStream;if(Ue(s)&&Kt(s)>0)gn(s,n,!1);else{let l;try{l=e._strategySizeAlgorithm(n)}catch(d){throw Fe(e,d),d}try{wn(e,n,l)}catch(d){throw Fe(e,d),d}}Ut(e)}function Fe(e,n){let s=e._controlledReadableStream;s._state==="readable"&&(Ie(e),yr(e),Li(s,n))}function Wn(e){let n=e._controlledReadableStream._state;return n==="errored"?null:n==="closed"?0:e._strategyHWM-e._queueTotalSize}function Lu(e){return!qi(e)}function ft(e){let n=e._controlledReadableStream._state;return!e._closeRequested&&n==="readable"}function Bi(e,n,s,l,d,m,b){n._controlledReadableStream=e,n._queue=void 0,n._queueTotalSize=void 0,Ie(n),n._started=!1,n._closeRequested=!1,n._pullAgain=!1,n._pulling=!1,n._strategySizeAlgorithm=b,n._strategyHWM=m,n._pullAlgorithm=l,n._cancelAlgorithm=d,e._readableStreamController=n;let S=s();A(g(S),()=>{n._started=!0,Ut(n)},P=>{Fe(n,P)})}function Iu(e,n,s,l){let d=Object.create(ct.prototype),m=()=>{},b=()=>g(void 0),S=()=>g(void 0);n.start!==void 0&&(m=()=>n.start(d)),n.pull!==void 0&&(b=()=>n.pull(d)),n.cancel!==void 0&&(S=P=>n.cancel(P)),Bi(e,d,m,b,S,s,l)}function _r(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function Fu(e,n){return He(e._readableStreamController)?Wu(e):Mu(e)}function Mu(e,n){let s=it(e),l=!1,d=!1,m=!1,b=!1,S,P,B,D,k,z=T(J=>{k=J});function pe(){return l?(d=!0,g(void 0)):(l=!0,Ot(s,{_chunkSteps:Z=>{F(()=>{d=!1;let se=Z,Oe=Z;m||gr(B._readableStreamController,se),b||gr(D._readableStreamController,Oe),l=!1,d&&pe()})},_closeSteps:()=>{l=!1,m||xt(B._readableStreamController),b||xt(D._readableStreamController),(!m||!b)&&k(void 0)},_errorSteps:()=>{l=!1}}),g(void 0))}function dt(J){if(m=!0,S=J,b){let Z=qt([S,P]),se=he(e,Z);k(se)}return z}function xe(J){if(b=!0,P=J,m){let Z=qt([S,P]),se=he(e,Z);k(se)}return z}function Ce(){}return B=Un(Ce,pe,dt),D=Un(Ce,pe,xe),ie(s._closedPromise,J=>{Fe(B._readableStreamController,J),Fe(D._readableStreamController,J),(!m||!b)&&k(void 0)}),[B,D]}function Wu(e){let n=it(e),s=!1,l=!1,d=!1,m=!1,b=!1,S,P,B,D,k,z=T(E=>{k=E});function pe(E){ie(E._closedPromise,O=>{E===n&&(de(B._readableStreamController,O),de(D._readableStreamController,O),(!m||!b)&&k(void 0))})}function dt(){Ye(n)&&(Te(n),n=it(e),pe(n)),Ot(n,{_chunkSteps:O=>{F(()=>{l=!1,d=!1;let M=O,re=O;if(!m&&!b)try{re=Zo(O)}catch(ht){de(B._readableStreamController,ht),de(D._readableStreamController,ht),k(he(e,ht));return}m||nr(B._readableStreamController,M),b||nr(D._readableStreamController,re),s=!1,l?Ce():d&&J()})},_closeSteps:()=>{s=!1,m||Dt(B._readableStreamController),b||Dt(D._readableStreamController),B._readableStreamController._pendingPullIntos.length>0&&or(B._readableStreamController,0),D._readableStreamController._pendingPullIntos.length>0&&or(D._readableStreamController,0),(!m||!b)&&k(void 0)},_errorSteps:()=>{s=!1}})}function xe(E,O){Le(n)&&(Te(n),n=ui(e),pe(n));let M=O?D:B,re=O?B:D;fi(n,E,{_chunkSteps:pt=>{F(()=>{l=!1,d=!1;let mt=O?b:m;if(O?m:b)mt||ir(M._readableStreamController,pt);else{let Yi;try{Yi=Zo(pt)}catch(jn){de(M._readableStreamController,jn),de(re._readableStreamController,jn),k(he(e,jn));return}mt||ir(M._readableStreamController,pt),nr(re._readableStreamController,Yi)}s=!1,l?Ce():d&&J()})},_closeSteps:pt=>{s=!1;let mt=O?b:m,Cr=O?m:b;mt||Dt(M._readableStreamController),Cr||Dt(re._readableStreamController),pt!==void 0&&(mt||ir(M._readableStreamController,pt),!Cr&&re._readableStreamController._pendingPullIntos.length>0&&or(re._readableStreamController,0)),(!mt||!Cr)&&k(void 0)},_errorSteps:()=>{s=!1}})}function Ce(){if(s)return l=!0,g(void 0);s=!0;let E=En(B._readableStreamController);return E===null?dt():xe(E._view,!1),g(void 0)}function J(){if(s)return d=!0,g(void 0);s=!0;let E=En(D._readableStreamController);return E===null?dt():xe(E._view,!0),g(void 0)}function Z(E){if(m=!0,S=E,b){let O=qt([S,P]),M=he(e,O);k(M)}return z}function se(E){if(b=!0,P=E,m){let O=qt([S,P]),M=he(e,O);k(M)}return z}function Oe(){}return B=ki(Oe,Ce,Z),D=ki(Oe,J,se),pe(n),[B,D]}function Uu(e,n){Pe(e,n);let s=e,l=s==null?void 0:s.autoAllocateChunkSize,d=s==null?void 0:s.cancel,m=s==null?void 0:s.pull,b=s==null?void 0:s.start,S=s==null?void 0:s.type;return{autoAllocateChunkSize:l===void 0?void 0:jo(l,`${n} has member 'autoAllocateChunkSize' that`),cancel:d===void 0?void 0:xu(d,s,`${n} has member 'cancel' that`),pull:m===void 0?void 0:ju(m,s,`${n} has member 'pull' that`),start:b===void 0?void 0:$u(b,s,`${n} has member 'start' that`),type:S===void 0?void 0:Nu(S,`${n} has member 'type' that`)}}function xu(e,n,s){return fe(e,s),l=>Ee(e,n,[l])}function ju(e,n,s){return fe(e,s),l=>Ee(e,n,[l])}function $u(e,n,s){return fe(e,s),l=>_e(e,n,[l])}function Nu(e,n){if(e=`${e}`,e!=="bytes")throw new TypeError(`${n} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function zu(e,n){Pe(e,n);let s=e==null?void 0:e.mode;return{mode:s===void 0?void 0:Hu(s,`${n} has member 'mode' that`)}}function Hu(e,n){if(e=`${e}`,e!=="byob")throw new TypeError(`${n} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function Vu(e,n){Pe(e,n);let s=e==null?void 0:e.preventCancel;return{preventCancel:Boolean(s)}}function Di(e,n){Pe(e,n);let s=e==null?void 0:e.preventAbort,l=e==null?void 0:e.preventCancel,d=e==null?void 0:e.preventClose,m=e==null?void 0:e.signal;return m!==void 0&&Yu(m,`${n} has member 'signal' that`),{preventAbort:Boolean(s),preventCancel:Boolean(l),preventClose:Boolean(d),signal:m}}function Yu(e,n){if(!iu(e))throw new TypeError(`${n} is not an AbortSignal.`)}function Gu(e,n){Pe(e,n);let s=e==null?void 0:e.readable;mn(s,"readable","ReadableWritablePair"),yn(s,`${n} has member 'readable' that`);let l=e==null?void 0:e.writable;return mn(l,"writable","ReadableWritablePair"),di(l,`${n} has member 'writable' that`),{readable:s,writable:l}}class Me{constructor(n={},s={}){n===void 0?n=null:Uo(n,"First parameter");let l=ur(s,"Second parameter"),d=Uu(n,"First parameter");if(xn(this),d.type==="bytes"){if(l.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let m=It(l,0);Ja(this,d,m)}else{let m=ar(l),b=It(l,1);Iu(this,d,b,m)}}get locked(){if(!We(this))throw Je("locked");return Ue(this)}cancel(n=void 0){return We(this)?Ue(this)?w(new TypeError("Cannot cancel a stream that already has a reader")):he(this,n):w(Je("cancel"))}getReader(n=void 0){if(!We(this))throw Je("getReader");return zu(n,"First parameter").mode===void 0?it(this):ui(this)}pipeThrough(n,s={}){if(!We(this))throw Je("pipeThrough");Ae(n,1,"pipeThrough");let l=Gu(n,"First parameter"),d=Di(s,"Second parameter");if(Ue(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(ut(l.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let m=Oi(this,l.writable,d.preventClose,d.preventAbort,d.preventCancel,d.signal);return $(m),l.readable}pipeTo(n,s={}){if(!We(this))return w(Je("pipeTo"));if(n===void 0)return w("Parameter 1 is required in 'pipeTo'.");if(!at(n))return w(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let l;try{l=Di(s,"Second parameter")}catch(d){return w(d)}return Ue(this)?w(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):ut(n)?w(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Oi(this,n,l.preventClose,l.preventAbort,l.preventCancel,l.signal)}tee(){if(!We(this))throw Je("tee");let n=Fu(this);return qt(n)}values(n=void 0){if(!We(this))throw Je("values");let s=Vu(n,"First parameter");return Na(this,s.preventCancel)}}Object.defineProperties(Me.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof i.toStringTag=="symbol"&&Object.defineProperty(Me.prototype,i.toStringTag,{value:"ReadableStream",configurable:!0}),typeof i.asyncIterator=="symbol"&&Object.defineProperty(Me.prototype,i.asyncIterator,{value:Me.prototype.values,writable:!0,configurable:!0});function Un(e,n,s,l=1,d=()=>1){let m=Object.create(Me.prototype);xn(m);let b=Object.create(ct.prototype);return Bi(m,b,e,n,s,l,d),m}function ki(e,n,s){let l=Object.create(Me.prototype);xn(l);let d=Object.create(st.prototype);return ai(l,d,e,n,s,0,void 0),l}function xn(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function We(e){return!h(e)||!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")?!1:e instanceof Me}function Ue(e){return e._reader!==void 0}function he(e,n){if(e._disturbed=!0,e._state==="closed")return g(void 0);if(e._state==="errored")return w(e._storedError);jt(e);let s=e._reader;s!==void 0&&Ye(s)&&(s._readIntoRequests.forEach(d=>{d._closeSteps(void 0)}),s._readIntoRequests=new ce);let l=e._readableStreamController[hn](n);return q(l,a)}function jt(e){e._state="closed";let n=e._reader;n!==void 0&&(Io(n),Le(n)&&(n._readRequests.forEach(s=>{s._closeSteps()}),n._readRequests=new ce))}function Li(e,n){e._state="errored",e._storedError=n;let s=e._reader;s!==void 0&&(dn(s,n),Le(s)?(s._readRequests.forEach(l=>{l._errorSteps(n)}),s._readRequests=new ce):(s._readIntoRequests.forEach(l=>{l._errorSteps(n)}),s._readIntoRequests=new ce))}function Je(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function Ii(e,n){Pe(e,n);let s=e==null?void 0:e.highWaterMark;return mn(s,"highWaterMark","QueuingStrategyInit"),{highWaterMark:bn(s)}}let Fi=e=>e.byteLength;try{Object.defineProperty(Fi,"name",{value:"size",configurable:!0})}catch{}class wr{constructor(n){Ae(n,1,"ByteLengthQueuingStrategy"),n=Ii(n,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=n.highWaterMark}get highWaterMark(){if(!Wi(this))throw Mi("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Wi(this))throw Mi("size");return Fi}}Object.defineProperties(wr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof i.toStringTag=="symbol"&&Object.defineProperty(wr.prototype,i.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function Mi(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function Wi(e){return!h(e)||!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")?!1:e instanceof wr}let Ui=()=>1;try{Object.defineProperty(Ui,"name",{value:"size",configurable:!0})}catch{}class Sr{constructor(n){Ae(n,1,"CountQueuingStrategy"),n=Ii(n,"First parameter"),this._countQueuingStrategyHighWaterMark=n.highWaterMark}get highWaterMark(){if(!ji(this))throw xi("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!ji(this))throw xi("size");return Ui}}Object.defineProperties(Sr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof i.toStringTag=="symbol"&&Object.defineProperty(Sr.prototype,i.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function xi(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function ji(e){return!h(e)||!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")?!1:e instanceof Sr}function Qu(e,n){Pe(e,n);let s=e==null?void 0:e.flush,l=e==null?void 0:e.readableType,d=e==null?void 0:e.start,m=e==null?void 0:e.transform,b=e==null?void 0:e.writableType;return{flush:s===void 0?void 0:Ju(s,e,`${n} has member 'flush' that`),readableType:l,start:d===void 0?void 0:Ku(d,e,`${n} has member 'start' that`),transform:m===void 0?void 0:Zu(m,e,`${n} has member 'transform' that`),writableType:b}}function Ju(e,n,s){return fe(e,s),l=>Ee(e,n,[l])}function Ku(e,n,s){return fe(e,s),l=>_e(e,n,[l])}function Zu(e,n,s){return fe(e,s),(l,d)=>Ee(e,n,[l,d])}class Rr{constructor(n={},s={},l={}){n===void 0&&(n=null);let d=ur(s,"Second parameter"),m=ur(l,"Third parameter"),b=Qu(n,"First parameter");if(b.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(b.writableType!==void 0)throw new RangeError("Invalid writableType specified");let S=It(m,0),P=ar(m),B=It(d,1),D=ar(d),k,z=T(pe=>{k=pe});Xu(this,z,B,D,S,P),tl(this,b),b.start!==void 0?k(b.start(this._transformStreamController)):k(void 0)}get readable(){if(!$i(this))throw Vi("readable");return this._readable}get writable(){if(!$i(this))throw Vi("writable");return this._writable}}Object.defineProperties(Rr.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof i.toStringTag=="symbol"&&Object.defineProperty(Rr.prototype,i.toStringTag,{value:"TransformStream",configurable:!0});function Xu(e,n,s,l,d,m){function b(){return n}function S(z){return ol(e,z)}function P(z){return il(e,z)}function B(){return sl(e)}e._writable=uu(b,S,B,P,s,l);function D(){return al(e)}function k(z){return Er(e,z),g(void 0)}e._readable=Un(b,D,k,d,m),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,Tr(e,!0),e._transformStreamController=void 0}function $i(e){return!h(e)||!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")?!1:e instanceof Rr}function vr(e,n){Fe(e._readable._readableStreamController,n),Er(e,n)}function Er(e,n){Ni(e._transformStreamController),Dn(e._writable._writableStreamController,n),e._backpressure&&Tr(e,!1)}function Tr(e,n){e._backpressureChangePromise!==void 0&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=T(s=>{e._backpressureChangePromise_resolve=s}),e._backpressure=n}class $t{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Pr(this))throw Ar("desiredSize");let n=this._controlledTransformStream._readable._readableStreamController;return Wn(n)}enqueue(n=void 0){if(!Pr(this))throw Ar("enqueue");zi(this,n)}error(n=void 0){if(!Pr(this))throw Ar("error");rl(this,n)}terminate(){if(!Pr(this))throw Ar("terminate");nl(this)}}Object.defineProperties($t.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof i.toStringTag=="symbol"&&Object.defineProperty($t.prototype,i.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function Pr(e){return!h(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")?!1:e instanceof $t}function el(e,n,s,l){n._controlledTransformStream=e,e._transformStreamController=n,n._transformAlgorithm=s,n._flushAlgorithm=l}function tl(e,n){let s=Object.create($t.prototype),l=m=>{try{return zi(s,m),g(void 0)}catch(b){return w(b)}},d=()=>g(void 0);n.transform!==void 0&&(l=m=>n.transform(m,s)),n.flush!==void 0&&(d=()=>n.flush(s)),el(e,s,l,d)}function Ni(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function zi(e,n){let s=e._controlledTransformStream,l=s._readable._readableStreamController;if(!ft(l))throw new TypeError("Readable side is not in a state that permits enqueue");try{gr(l,n)}catch(m){throw Er(s,m),s._readable._storedError}Lu(l)!==s._backpressure&&Tr(s,!0)}function rl(e,n){vr(e._controlledTransformStream,n)}function Hi(e,n){let s=e._transformAlgorithm(n);return q(s,void 0,l=>{throw vr(e._controlledTransformStream,l),l})}function nl(e){let n=e._controlledTransformStream,s=n._readable._readableStreamController;xt(s);let l=new TypeError("TransformStream terminated");Er(n,l)}function ol(e,n){let s=e._transformStreamController;if(e._backpressure){let l=e._backpressureChangePromise;return q(l,()=>{let d=e._writable;if(d._state==="erroring")throw d._storedError;return Hi(s,n)})}return Hi(s,n)}function il(e,n){return vr(e,n),g(void 0)}function sl(e){let n=e._readable,s=e._transformStreamController,l=s._flushAlgorithm();return Ni(s),q(l,()=>{if(n._state==="errored")throw n._storedError;xt(n._readableStreamController)},d=>{throw vr(e,d),n._storedError})}function al(e){return Tr(e,!1),e._backpressureChangePromise}function Ar(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function Vi(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}o.ByteLengthQueuingStrategy=wr,o.CountQueuingStrategy=Sr,o.ReadableByteStreamController=st,o.ReadableStream=Me,o.ReadableStreamBYOBReader=Lt,o.ReadableStreamBYOBRequest=Bt,o.ReadableStreamDefaultController=ct,o.ReadableStreamDefaultReader=Ct,o.TransformStream=Rr,o.TransformStreamDefaultController=$t,o.WritableStream=Ft,o.WritableStreamDefaultController=lt,o.WritableStreamDefaultWriter=Mt,Object.defineProperty(o,"__esModule",{value:!0})})}(Dr,Dr.exports)),Dr.exports}async function*Hn(t,r=!0){for(let o of t)if("stream"in o)yield*o.stream();else if(ArrayBuffer.isView(o))if(r){let i=o.byteOffset,a=o.byteOffset+o.byteLength;for(;i!==a;){let u=Math.min(a-i,Xi),c=o.buffer.slice(i,i+u);i+=c.byteLength,yield new Uint8Array(c)}}else yield o;else{let i=0,a=o;for(;i!==a.size;){let c=await a.slice(i,Math.min(a.size,i+Xi)).arrayBuffer();i+=c.byteLength,yield new Uint8Array(c)}}}function Bl(t,r=gt){var o=`${es()}${es()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),i=[],a=`--${o}\r
Content-Disposition: form-data; name="`;return t.forEach((u,c)=>typeof u=="string"?i.push(a+Vn(c)+`"\r
\r
${u.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):i.push(a+Vn(c)+`"; filename="${Vn(u.name,1)}"\r
Content-Type: ${u.type||"application/octet-stream"}\r
\r
`,u,`\r
`)),i.push(`--${o}--`),new r(i,{type:"multipart/form-data; boundary="+o})}async function Yn(t){if(t[X].disturbed)throw new TypeError(`body used already for: ${t.url}`);if(t[X].disturbed=!0,t[X].error)throw t[X].error;let{body:r}=t;if(r===null)return G.Buffer.alloc(0);if(!(r instanceof j.default))return G.Buffer.alloc(0);let o=[],i=0;try{for await(let a of r){if(t.size>0&&i+a.length>t.size){let u=new ne(`content size at ${t.url} over limit: ${t.size}`,"max-size");throw r.destroy(u),u}i+=a.length,o.push(a)}}catch(a){throw a instanceof _t?a:new ne(`Invalid response body while trying to fetch ${t.url}: ${a.message}`,"system",a)}if(r.readableEnded===!0||r._readableState.ended===!0)try{return o.every(a=>typeof a=="string")?G.Buffer.from(o.join("")):G.Buffer.concat(o,i)}catch(a){throw new ne(`Could not create Buffer from response body for ${t.url}: ${a.message}`,"system",a)}else throw new ne(`Premature close of server response while trying to fetch ${t.url}`)}function Ul(t=[]){return new oe(t.reduce((r,o,i,a)=>(i%2===0&&r.push(a.slice(i,i+2)),r),[]).filter(([r,o])=>{try{return kr(r),Qn(r,String(o)),!0}catch{return!1}}))}function rs(t,r=!1){return t==null||(t=new URL(t),/^(about|blob|data):$/.test(t.protocol))?"no-referrer":(t.username="",t.password="",t.hash="",r&&(t.pathname="",t.search=""),t)}function Nl(t){if(!ms.has(t))throw new TypeError(`Invalid referrerPolicy: ${t}`);return t}function zl(t){if(/^(http|ws)s:$/.test(t.protocol))return!0;let r=t.host.replace(/(^\[)|(]$)/g,""),o=(0,fs.isIP)(r);return o===4&&/^127\./.test(r)||o===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(r)?!0:t.host==="localhost"||t.host.endsWith(".localhost")?!1:t.protocol==="file:"}function bt(t){return/^about:(blank|srcdoc)$/.test(t)||t.protocol==="data:"||/^(blob|filesystem):$/.test(t.protocol)?!0:zl(t)}function Hl(t,{referrerURLCallback:r,referrerOriginCallback:o}={}){if(t.referrer==="no-referrer"||t.referrerPolicy==="")return null;let i=t.referrerPolicy;if(t.referrer==="about:client")return"no-referrer";let a=t.referrer,u=rs(a),c=rs(a,!0);u.toString().length>4096&&(u=c),r&&(u=r(u)),o&&(c=o(c));let h=new URL(t.url);switch(i){case"no-referrer":return"no-referrer";case"origin":return c;case"unsafe-url":return u;case"strict-origin":return bt(u)&&!bt(h)?"no-referrer":c.toString();case"strict-origin-when-cross-origin":return u.origin===h.origin?u:bt(u)&&!bt(h)?"no-referrer":c;case"same-origin":return u.origin===h.origin?u:"no-referrer";case"origin-when-cross-origin":return u.origin===h.origin?u:c;case"no-referrer-when-downgrade":return bt(u)&&!bt(h)?"no-referrer":u;default:throw new TypeError(`Invalid referrerPolicy: ${i}`)}}function Vl(t){let r=(t.get("referrer-policy")||"").split(/[,\s]+/),o="";for(let i of r)i&&ms.has(i)&&(o=i);return o}async function Xn(t,r){return new Promise((o,i)=>{let a=new qe(t,r),{parsedURL:u,options:c}=Gl(a);if(!Ql.has(u.protocol))throw new TypeError(`node-fetch cannot load ${t}. URL scheme "${u.protocol.replace(/:$/,"")}" is not supported.`);if(u.protocol==="data:"){let g=Rl(a.url),w=new Y(g,{headers:{"Content-Type":g.typeFull}});o(w);return}let h=(u.protocol==="https:"?ls.default:yt.default).request,{signal:p}=a,f=null,y=()=>{let g=new Wr("The operation was aborted.");i(g),a.body&&a.body instanceof j.default.Readable&&a.body.destroy(g),!(!f||!f.body)&&f.body.emit("error",g)};if(p&&p.aborted){y();return}let _=()=>{y(),T()},R=h(u.toString(),c);p&&p.addEventListener("abort",_);let T=()=>{R.abort(),p&&p.removeEventListener("abort",_)};R.on("error",g=>{i(new ne(`request to ${a.url} failed, reason: ${g.message}`,"system",g)),T()}),Jl(R,g=>{f&&f.body&&f.body.destroy(g)}),process.version<"v14"&&R.on("socket",g=>{let w;g.prependListener("end",()=>{w=g._eventsCount}),g.prependListener("close",C=>{if(f&&w<g._eventsCount&&!C){let A=new Error("Premature close");A.code="ERR_STREAM_PREMATURE_CLOSE",f.body.emit("error",A)}})}),R.on("response",g=>{R.setTimeout(0);let w=Ul(g.rawHeaders);if(Zn(g.statusCode)){let q=w.get("Location"),$=null;try{$=q===null?null:new URL(q,a.url)}catch{if(a.redirect!=="manual"){i(new ne(`uri requested responds with an invalid redirect URL: ${q}`,"invalid-redirect")),T();return}}switch(a.redirect){case"error":i(new ne(`uri requested responds with a redirect, redirect mode is set to error: ${a.url}`,"no-redirect")),T();return;case"manual":break;case"follow":{if($===null)break;if(a.counter>=a.follow){i(new ne(`maximum redirect reached at: ${a.url}`,"max-redirect")),T();return}let F={headers:new oe(a.headers),follow:a.follow,counter:a.counter+1,agent:a.agent,compress:a.compress,method:a.method,body:Kn(a),signal:a.signal,size:a.size,referrer:a.referrer,referrerPolicy:a.referrerPolicy};if(!kl(a.url,$)||!Ll(a.url,$))for(let Ee of["authorization","www-authenticate","cookie","cookie2"])F.headers.delete(Ee);if(g.statusCode!==303&&a.body&&r.body instanceof j.default.Readable){i(new ne("Cannot follow redirect with body being a readable stream","unsupported-redirect")),T();return}(g.statusCode===303||(g.statusCode===301||g.statusCode===302)&&a.method==="POST")&&(F.method="GET",F.body=void 0,F.headers.delete("content-length"));let _e=Vl(w);_e&&(F.referrerPolicy=_e),o(Xn(new qe($,F))),T();return}default:return i(new TypeError(`Redirect option '${a.redirect}' is not a valid value of RequestRedirect`))}}p&&g.once("end",()=>{p.removeEventListener("abort",_)});let C=(0,j.pipeline)(g,new j.PassThrough,q=>{q&&i(q)});process.version<"v12.10"&&g.on("aborted",_);let A={url:a.url,status:g.statusCode,statusText:g.statusMessage,headers:w,size:a.size,counter:a.counter,highWaterMark:a.highWaterMark},N=w.get("Content-Encoding");if(!a.compress||a.method==="HEAD"||N===null||g.statusCode===204||g.statusCode===304){f=new Y(C,A),o(f);return}let ie={flush:tt.default.Z_SYNC_FLUSH,finishFlush:tt.default.Z_SYNC_FLUSH};if(N==="gzip"||N==="x-gzip"){C=(0,j.pipeline)(C,tt.default.createGunzip(ie),q=>{q&&i(q)}),f=new Y(C,A),o(f);return}if(N==="deflate"||N==="x-deflate"){let q=(0,j.pipeline)(g,new j.PassThrough,$=>{$&&i($)});q.once("data",$=>{($[0]&15)===8?C=(0,j.pipeline)(C,tt.default.createInflate(),F=>{F&&i(F)}):C=(0,j.pipeline)(C,tt.default.createInflateRaw(),F=>{F&&i(F)}),f=new Y(C,A),o(f)}),q.once("end",()=>{f||(f=new Y(C,A),o(f))});return}if(N==="br"){C=(0,j.pipeline)(C,tt.default.createBrotliDecompress(),q=>{q&&i(q)}),f=new Y(C,A),o(f);return}f=new Y(C,A),o(f)}),Wl(R,a).catch(i)})}function Jl(t,r){let o=G.Buffer.from(`0\r
\r
`),i=!1,a=!1,u;t.on("response",c=>{let{headers:h}=c;i=h["transfer-encoding"]==="chunked"&&!h["content-length"]}),t.on("socket",c=>{let h=()=>{if(i&&!a){let f=new Error("Premature close");f.code="ERR_STREAM_PREMATURE_CLOSE",r(f)}},p=f=>{a=G.Buffer.compare(f.slice(-5),o)===0,!a&&u&&(a=G.Buffer.compare(u.slice(-3),o.slice(0,3))===0&&G.Buffer.compare(f.slice(-2),o.slice(3))===0),u=f};c.prependListener("close",h),c.on("data",p),t.on("close",()=>{c.removeListener("close",h),c.removeListener("data",p)})})}function x(t){let r=ys.get(t);return console.assert(r!=null,"'this' is expected an Event object, but got",t),r}function ns(t){if(t.passiveListener!=null){typeof console<"u"&&typeof console.error=="function"&&console.error("Unable to preventDefault inside passive event listener invocation.",t.passiveListener);return}!t.event.cancelable||(t.canceled=!0,typeof t.event.preventDefault=="function"&&t.event.preventDefault())}function wt(t,r){ys.set(this,{eventTarget:t,event:r,eventPhase:2,currentTarget:t,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:r.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let o=Object.keys(r);for(let i=0;i<o.length;++i){let a=o[i];a in this||Object.defineProperty(this,a,gs(a))}}function gs(t){return{get(){return x(this).event[t]},set(r){x(this).event[t]=r},configurable:!0,enumerable:!0}}function Kl(t){return{value(){let r=x(this).event;return r[t].apply(r,arguments)},configurable:!0,enumerable:!0}}function Zl(t,r){let o=Object.keys(r);if(o.length===0)return t;function i(a,u){t.call(this,a,u)}i.prototype=Object.create(t.prototype,{constructor:{value:i,configurable:!0,writable:!0}});for(let a=0;a<o.length;++a){let u=o[a];if(!(u in t.prototype)){let h=typeof Object.getOwnPropertyDescriptor(r,u).value=="function";Object.defineProperty(i.prototype,u,h?Kl(u):gs(u))}}return i}function _s(t){if(t==null||t===Object.prototype)return wt;let r=Jn.get(t);return r==null&&(r=Zl(_s(Object.getPrototypeOf(t)),t),Jn.set(t,r)),r}function Xl(t,r){let o=_s(Object.getPrototypeOf(r));return new o(t,r)}function ec(t){return x(t).immediateStopped}function tc(t,r){x(t).eventPhase=r}function rc(t,r){x(t).currentTarget=r}function os(t,r){x(t).passiveListener=r}function Ir(t){return t!==null&&typeof t=="object"}function Yt(t){let r=ws.get(t);if(r==null)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return r}function nc(t){return{get(){let o=Yt(this).get(t);for(;o!=null;){if(o.listenerType===Lr)return o.listener;o=o.next}return null},set(r){typeof r!="function"&&!Ir(r)&&(r=null);let o=Yt(this),i=null,a=o.get(t);for(;a!=null;)a.listenerType===Lr?i!==null?i.next=a.next:a.next!==null?o.set(t,a.next):o.delete(t):i=a,a=a.next;if(r!==null){let u={listener:r,listenerType:Lr,passive:!1,once:!1,next:null};i===null?o.set(t,u):i.next=u}},configurable:!0,enumerable:!0}}function Ss(t,r){Object.defineProperty(t,`on${r}`,nc(r))}function as(t){function r(){Be.call(this)}r.prototype=Object.create(Be.prototype,{constructor:{value:r,configurable:!0,writable:!0}});for(let o=0;o<t.length;++o)Ss(r.prototype,t[o]);return r}function Be(){if(this instanceof Be){ws.set(this,new Map);return}if(arguments.length===1&&Array.isArray(arguments[0]))return as(arguments[0]);if(arguments.length>0){let t=new Array(arguments.length);for(let r=0;r<arguments.length;++r)t[r]=arguments[r];return as(t)}throw new TypeError("Cannot call a class as a function")}function oc(){let t=Object.create(St.prototype);return Be.call(t),Ur.set(t,!1),t}function ic(t){Ur.get(t)===!1&&(Ur.set(t,!0),t.dispatchEvent({type:"abort"}))}function us(t){let r=Rs.get(t);if(r==null)throw new TypeError(`Expected 'this' to be an 'AbortController' object, but got ${t===null?"null":typeof t}`);return r}var yt,ls,tt,j,G,ae,cs,fs,zn,Dr,Zi,El,Xi,ds,Tl,gt,Pl,Al,zt,Vt,Cl,Ol,es,ql,ts,Vn,et,Xe,_t,ne,Fr,hs,Mr,Dl,kl,Ll,Il,X,rt,Kn,Fl,ps,Ml,Wl,kr,Qn,oe,xl,Zn,me,Y,jl,ms,$l,V,Ht,Yl,qe,Gl,Wr,bs,Ql,ys,Jn,ws,is,ss,Lr,St,Ur,Rt,Rs,Br=Gi(()=>{yt=Ke(require("node:http"),1),ls=Ke(require("node:https"),1),tt=Ke(require("node:zlib"),1),j=Ke(require("node:stream"),1),G=require("node:buffer"),ae=require("node:util"),cs=require("node:url"),fs=require("node:net");zn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Dr={exports:{}};El=65536;if(!globalThis.ReadableStream)try{let t=require("node:process"),{emitWarning:r}=t;try{t.emitWarning=()=>{},Object.assign(globalThis,require("node:stream/web")),t.emitWarning=r}catch(o){throw t.emitWarning=r,o}}catch{Object.assign(globalThis,vl())}try{let{Blob:t}=require("buffer");t&&!t.prototype.stream&&(t.prototype.stream=function(o){let i=0,a=this;return new ReadableStream({type:"bytes",async pull(u){let h=await a.slice(i,Math.min(a.size,i+El)).arrayBuffer();i+=h.byteLength,u.enqueue(new Uint8Array(h)),i===a.size&&u.close()}})})}catch{}Xi=65536;ds=class Gn{#e=[];#t="";#r=0;#n="transparent";constructor(r=[],o={}){if(typeof r!="object"||r===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof r[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof o!="object"&&typeof o!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");o===null&&(o={});let i=new TextEncoder;for(let u of r){let c;ArrayBuffer.isView(u)?c=new Uint8Array(u.buffer.slice(u.byteOffset,u.byteOffset+u.byteLength)):u instanceof ArrayBuffer?c=new Uint8Array(u.slice(0)):u instanceof Gn?c=u:c=i.encode(`${u}`);let h=ArrayBuffer.isView(c)?c.byteLength:c.size;h&&(this.#r+=h,this.#e.push(c))}this.#n=`${o.endings===void 0?"transparent":o.endings}`;let a=o.type===void 0?"":String(o.type);this.#t=/^[\x20-\x7E]*$/.test(a)?a:""}get size(){return this.#r}get type(){return this.#t}async text(){let r=new TextDecoder,o="";for await(let i of Hn(this.#e,!1))o+=r.decode(i,{stream:!0});return o+=r.decode(),o}async arrayBuffer(){let r=new Uint8Array(this.size),o=0;for await(let i of Hn(this.#e,!1))r.set(i,o),o+=i.length;return r.buffer}stream(){let r=Hn(this.#e,!0);return new globalThis.ReadableStream({type:"bytes",async pull(o){let i=await r.next();i.done?o.close():o.enqueue(i.value)},async cancel(){await r.return()}})}slice(r=0,o=this.size,i=""){let{size:a}=this,u=r<0?Math.max(a+r,0):Math.min(r,a),c=o<0?Math.max(a+o,0):Math.min(o,a),h=Math.max(c-u,0),p=this.#e,f=[],y=0;for(let R of p){if(y>=h)break;let T=ArrayBuffer.isView(R)?R.byteLength:R.size;if(u&&T<=u)u-=T,c-=T;else{let g;ArrayBuffer.isView(R)?(g=R.subarray(u,Math.min(T,c)),y+=g.byteLength):(g=R.slice(u,Math.min(T,c)),y+=g.size),c-=T,f.push(g),u=0}}let _=new Gn([],{type:String(i).toLowerCase()});return _.#r=h,_.#e=f,_}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](r){return r&&typeof r=="object"&&typeof r.constructor=="function"&&(typeof r.stream=="function"||typeof r.arrayBuffer=="function")&&/^(Blob|File)$/.test(r[Symbol.toStringTag])}};Object.defineProperties(ds.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});Tl=ds,gt=Tl,Pl=class extends gt{#e=0;#t="";constructor(r,o,i={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(r,i),i===null&&(i={});let a=i.lastModified===void 0?Date.now():Number(i.lastModified);Number.isNaN(a)||(this.#e=a),this.#t=String(o)}get name(){return this.#t}get lastModified(){return this.#e}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](r){return!!r&&r instanceof gt&&/^(File)$/.test(r[Symbol.toStringTag])}},Al=Pl,zt=Al;({toStringTag:Vt,iterator:Cl,hasInstance:Ol}=Symbol),es=Math.random,ql="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),ts=(t,r,o)=>(t+="",/^(Blob|File)$/.test(r&&r[Vt])?[(o=o!==void 0?o+"":r[Vt]=="File"?r.name:"blob",t),r.name!==o||r[Vt]=="blob"?new zt([r],o,r):r]:[t,r+""]),Vn=(t,r)=>(r?t:t.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),et=(t,r,o)=>{if(r.length<o)throw new TypeError(`Failed to execute '${t}' on 'FormData': ${o} arguments required, but only ${r.length} present.`)},Xe=class{#e=[];constructor(...r){if(r.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[Vt](){return"FormData"}[Cl](){return this.entries()}static[Ol](r){return r&&typeof r=="object"&&r[Vt]==="FormData"&&!ql.some(o=>typeof r[o]!="function")}append(...r){et("append",arguments,2),this.#e.push(ts(...r))}delete(r){et("delete",arguments,1),r+="",this.#e=this.#e.filter(([o])=>o!==r)}get(r){et("get",arguments,1),r+="";for(var o=this.#e,i=o.length,a=0;a<i;a++)if(o[a][0]===r)return o[a][1];return null}getAll(r,o){return et("getAll",arguments,1),o=[],r+="",this.#e.forEach(i=>i[0]===r&&o.push(i[1])),o}has(r){return et("has",arguments,1),r+="",this.#e.some(o=>o[0]===r)}forEach(r,o){et("forEach",arguments,1);for(var[i,a]of this)r.call(o,a,i,this)}set(...r){et("set",arguments,2);var o=[],i=!0;r=ts(...r),this.#e.forEach(a=>{a[0]===r[0]?i&&(i=!o.push(r)):o.push(a)}),i&&o.push(r),this.#e=o}*entries(){yield*this.#e}*keys(){for(var[r]of this)yield r}*values(){for(var[,r]of this)yield r}};_t=class extends Error{constructor(r,o){super(r),Error.captureStackTrace(this,this.constructor),this.type=o}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}},ne=class extends _t{constructor(r,o,i){super(r,o),i&&(this.code=this.errno=i.code,this.erroredSysCall=i.syscall)}},Fr=Symbol.toStringTag,hs=t=>typeof t=="object"&&typeof t.append=="function"&&typeof t.delete=="function"&&typeof t.get=="function"&&typeof t.getAll=="function"&&typeof t.has=="function"&&typeof t.set=="function"&&typeof t.sort=="function"&&t[Fr]==="URLSearchParams",Mr=t=>t&&typeof t=="object"&&typeof t.arrayBuffer=="function"&&typeof t.type=="string"&&typeof t.stream=="function"&&typeof t.constructor=="function"&&/^(Blob|File)$/.test(t[Fr]),Dl=t=>typeof t=="object"&&(t[Fr]==="AbortSignal"||t[Fr]==="EventTarget"),kl=(t,r)=>{let o=new URL(r).hostname,i=new URL(t).hostname;return o===i||o.endsWith(`.${i}`)},Ll=(t,r)=>{let o=new URL(r).protocol,i=new URL(t).protocol;return o===i},Il=(0,ae.promisify)(j.default.pipeline),X=Symbol("Body internals"),rt=class{constructor(r,{size:o=0}={}){let i=null;r===null?r=null:hs(r)?r=G.Buffer.from(r.toString()):Mr(r)||G.Buffer.isBuffer(r)||(ae.types.isAnyArrayBuffer(r)?r=G.Buffer.from(r):ArrayBuffer.isView(r)?r=G.Buffer.from(r.buffer,r.byteOffset,r.byteLength):r instanceof j.default||(r instanceof Xe?(r=Bl(r),i=r.type.split("=")[1]):r=G.Buffer.from(String(r))));let a=r;G.Buffer.isBuffer(r)?a=j.default.Readable.from(r):Mr(r)&&(a=j.default.Readable.from(r.stream())),this[X]={body:r,stream:a,boundary:i,disturbed:!1,error:null},this.size=o,r instanceof j.default&&r.on("error",u=>{let c=u instanceof _t?u:new ne(`Invalid response body while trying to fetch ${this.url}: ${u.message}`,"system",u);this[X].error=c})}get body(){return this[X].stream}get bodyUsed(){return this[X].disturbed}async arrayBuffer(){let{buffer:r,byteOffset:o,byteLength:i}=await Yn(this);return r.slice(o,o+i)}async formData(){let r=this.headers.get("content-type");if(r.startsWith("application/x-www-form-urlencoded")){let i=new Xe,a=new URLSearchParams(await this.text());for(let[u,c]of a)i.append(u,c);return i}let{toFormData:o}=await Promise.resolve().then(()=>(Ki(),Ji));return o(this.body,r)}async blob(){let r=this.headers&&this.headers.get("content-type")||this[X].body&&this[X].body.type||"",o=await this.arrayBuffer();return new gt([o],{type:r})}async json(){let r=await this.text();return JSON.parse(r)}async text(){let r=await Yn(this);return new TextDecoder().decode(r)}buffer(){return Yn(this)}};rt.prototype.buffer=(0,ae.deprecate)(rt.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(rt.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,ae.deprecate)(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});Kn=(t,r)=>{let o,i,{body:a}=t[X];if(t.bodyUsed)throw new Error("cannot clone body after it is used");return a instanceof j.default&&typeof a.getBoundary!="function"&&(o=new j.PassThrough({highWaterMark:r}),i=new j.PassThrough({highWaterMark:r}),a.pipe(o),a.pipe(i),t[X].stream=o,a=i),a},Fl=(0,ae.deprecate)(t=>t.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),ps=(t,r)=>t===null?null:typeof t=="string"?"text/plain;charset=UTF-8":hs(t)?"application/x-www-form-urlencoded;charset=UTF-8":Mr(t)?t.type||null:G.Buffer.isBuffer(t)||ae.types.isAnyArrayBuffer(t)||ArrayBuffer.isView(t)?null:t instanceof Xe?`multipart/form-data; boundary=${r[X].boundary}`:t&&typeof t.getBoundary=="function"?`multipart/form-data;boundary=${Fl(t)}`:t instanceof j.default?null:"text/plain;charset=UTF-8",Ml=t=>{let{body:r}=t[X];return r===null?0:Mr(r)?r.size:G.Buffer.isBuffer(r)?r.length:r&&typeof r.getLengthSync=="function"&&r.hasKnownLength&&r.hasKnownLength()?r.getLengthSync():null},Wl=async(t,{body:r})=>{r===null?t.end():await Il(r,t)},kr=typeof yt.default.validateHeaderName=="function"?yt.default.validateHeaderName:t=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(t)){let r=new TypeError(`Header name must be a valid HTTP token [${t}]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),r}},Qn=typeof yt.default.validateHeaderValue=="function"?yt.default.validateHeaderValue:(t,r)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(r)){let o=new TypeError(`Invalid character in header content ["${t}"]`);throw Object.defineProperty(o,"code",{value:"ERR_INVALID_CHAR"}),o}},oe=class extends URLSearchParams{constructor(r){let o=[];if(r instanceof oe){let i=r.raw();for(let[a,u]of Object.entries(i))o.push(...u.map(c=>[a,c]))}else if(r!=null)if(typeof r=="object"&&!ae.types.isBoxedPrimitive(r)){let i=r[Symbol.iterator];if(i==null)o.push(...Object.entries(r));else{if(typeof i!="function")throw new TypeError("Header pairs must be iterable");o=[...r].map(a=>{if(typeof a!="object"||ae.types.isBoxedPrimitive(a))throw new TypeError("Each header pair must be an iterable object");return[...a]}).map(a=>{if(a.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...a]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");return o=o.length>0?o.map(([i,a])=>(kr(i),Qn(i,String(a)),[String(i).toLowerCase(),String(a)])):void 0,super(o),new Proxy(this,{get(i,a,u){switch(a){case"append":case"set":return(c,h)=>(kr(c),Qn(c,String(h)),URLSearchParams.prototype[a].call(i,String(c).toLowerCase(),String(h)));case"delete":case"has":case"getAll":return c=>(kr(c),URLSearchParams.prototype[a].call(i,String(c).toLowerCase()));case"keys":return()=>(i.sort(),new Set(URLSearchParams.prototype.keys.call(i)).keys());default:return Reflect.get(i,a,u)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(r){let o=this.getAll(r);if(o.length===0)return null;let i=o.join(", ");return/^content-encoding$/i.test(r)&&(i=i.toLowerCase()),i}forEach(r,o=void 0){for(let i of this.keys())Reflect.apply(r,o,[this.get(i),i,this])}*values(){for(let r of this.keys())yield this.get(r)}*entries(){for(let r of this.keys())yield[r,this.get(r)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((r,o)=>(r[o]=this.getAll(o),r),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((r,o)=>{let i=this.getAll(o);return o==="host"?r[o]=i[0]:r[o]=i.length>1?i:i[0],r},{})}};Object.defineProperties(oe.prototype,["get","entries","forEach","values"].reduce((t,r)=>(t[r]={enumerable:!0},t),{}));xl=new Set([301,302,303,307,308]),Zn=t=>xl.has(t),me=Symbol("Response internals"),Y=class extends rt{constructor(r=null,o={}){super(r,o);let i=o.status!=null?o.status:200,a=new oe(o.headers);if(r!==null&&!a.has("Content-Type")){let u=ps(r,this);u&&a.append("Content-Type",u)}this[me]={type:"default",url:o.url,status:i,statusText:o.statusText||"",headers:a,counter:o.counter,highWaterMark:o.highWaterMark}}get type(){return this[me].type}get url(){return this[me].url||""}get status(){return this[me].status}get ok(){return this[me].status>=200&&this[me].status<300}get redirected(){return this[me].counter>0}get statusText(){return this[me].statusText}get headers(){return this[me].headers}get highWaterMark(){return this[me].highWaterMark}clone(){return new Y(Kn(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(r,o=302){if(!Zn(o))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new Y(null,{headers:{location:new URL(r).toString()},status:o})}static error(){let r=new Y(null,{status:0,statusText:""});return r[me].type="error",r}static json(r=void 0,o={}){let i=JSON.stringify(r);if(i===void 0)throw new TypeError("data is not JSON serializable");let a=new oe(o&&o.headers);return a.has("content-type")||a.set("content-type","application/json"),new Y(i,{...o,headers:a})}get[Symbol.toStringTag](){return"Response"}};Object.defineProperties(Y.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});jl=t=>{if(t.search)return t.search;let r=t.href.length-1,o=t.hash||(t.href[r]==="#"?"#":"");return t.href[r-o.length]==="?"?"?":""};ms=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),$l="strict-origin-when-cross-origin";V=Symbol("Request internals"),Ht=t=>typeof t=="object"&&typeof t[V]=="object",Yl=(0,ae.deprecate)(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)"),qe=class extends rt{constructor(r,o={}){let i;if(Ht(r)?i=new URL(r.url):(i=new URL(r),r={}),i.username!==""||i.password!=="")throw new TypeError(`${i} is an url with embedded credentials.`);let a=o.method||r.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(a)&&(a=a.toUpperCase()),!Ht(o)&&"data"in o&&Yl(),(o.body!=null||Ht(r)&&r.body!==null)&&(a==="GET"||a==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let u=o.body?o.body:Ht(r)&&r.body!==null?Kn(r):null;super(u,{size:o.size||r.size||0});let c=new oe(o.headers||r.headers||{});if(u!==null&&!c.has("Content-Type")){let f=ps(u,this);f&&c.set("Content-Type",f)}let h=Ht(r)?r.signal:null;if("signal"in o&&(h=o.signal),h!=null&&!Dl(h))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let p=o.referrer==null?r.referrer:o.referrer;if(p==="")p="no-referrer";else if(p){let f=new URL(p);p=/^about:(\/\/)?client$/.test(f)?"client":f}else p=void 0;this[V]={method:a,redirect:o.redirect||r.redirect||"follow",headers:c,parsedURL:i,signal:h,referrer:p},this.follow=o.follow===void 0?r.follow===void 0?20:r.follow:o.follow,this.compress=o.compress===void 0?r.compress===void 0?!0:r.compress:o.compress,this.counter=o.counter||r.counter||0,this.agent=o.agent||r.agent,this.highWaterMark=o.highWaterMark||r.highWaterMark||16384,this.insecureHTTPParser=o.insecureHTTPParser||r.insecureHTTPParser||!1,this.referrerPolicy=o.referrerPolicy||r.referrerPolicy||""}get method(){return this[V].method}get url(){return(0,cs.format)(this[V].parsedURL)}get headers(){return this[V].headers}get redirect(){return this[V].redirect}get signal(){return this[V].signal}get referrer(){if(this[V].referrer==="no-referrer")return"";if(this[V].referrer==="client")return"about:client";if(this[V].referrer)return this[V].referrer.toString()}get referrerPolicy(){return this[V].referrerPolicy}set referrerPolicy(r){this[V].referrerPolicy=Nl(r)}clone(){return new qe(this)}get[Symbol.toStringTag](){return"Request"}};Object.defineProperties(qe.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});Gl=t=>{let{parsedURL:r}=t[V],o=new oe(t[V].headers);o.has("Accept")||o.set("Accept","*/*");let i=null;if(t.body===null&&/^(post|put)$/i.test(t.method)&&(i="0"),t.body!==null){let h=Ml(t);typeof h=="number"&&!Number.isNaN(h)&&(i=String(h))}i&&o.set("Content-Length",i),t.referrerPolicy===""&&(t.referrerPolicy=$l),t.referrer&&t.referrer!=="no-referrer"?t[V].referrer=Hl(t):t[V].referrer="no-referrer",t[V].referrer instanceof URL&&o.set("Referer",t.referrer),o.has("User-Agent")||o.set("User-Agent","node-fetch"),t.compress&&!o.has("Accept-Encoding")&&o.set("Accept-Encoding","gzip, deflate, br");let{agent:a}=t;typeof a=="function"&&(a=a(r)),!o.has("Connection")&&!a&&o.set("Connection","close");let u=jl(r),c={path:r.pathname+u,method:t.method,headers:o[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:t.insecureHTTPParser,agent:a};return{parsedURL:r,options:c}},Wr=class extends _t{constructor(r,o="aborted"){super(r,o)}};if(!globalThis.DOMException)try{let{MessageChannel:t}=require("worker_threads"),r=new t().port1,o=new ArrayBuffer;r.postMessage(o,[o,o])}catch(t){t.constructor.name==="DOMException"&&(globalThis.DOMException=t.constructor)}bs=globalThis.DOMException,Ql=new Set(["data:","http:","https:"]);ys=new WeakMap,Jn=new WeakMap;wt.prototype={get type(){return x(this).event.type},get target(){return x(this).eventTarget},get currentTarget(){return x(this).currentTarget},composedPath(){let t=x(this).currentTarget;return t==null?[]:[t]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return x(this).eventPhase},stopPropagation(){let t=x(this);t.stopped=!0,typeof t.event.stopPropagation=="function"&&t.event.stopPropagation()},stopImmediatePropagation(){let t=x(this);t.stopped=!0,t.immediateStopped=!0,typeof t.event.stopImmediatePropagation=="function"&&t.event.stopImmediatePropagation()},get bubbles(){return Boolean(x(this).event.bubbles)},get cancelable(){return Boolean(x(this).event.cancelable)},preventDefault(){ns(x(this))},get defaultPrevented(){return x(this).canceled},get composed(){return Boolean(x(this).event.composed)},get timeStamp(){return x(this).timeStamp},get srcElement(){return x(this).eventTarget},get cancelBubble(){return x(this).stopped},set cancelBubble(t){if(!t)return;let r=x(this);r.stopped=!0,typeof r.event.cancelBubble=="boolean"&&(r.event.cancelBubble=!0)},get returnValue(){return!x(this).canceled},set returnValue(t){t||ns(x(this))},initEvent(){}};Object.defineProperty(wt.prototype,"constructor",{value:wt,configurable:!0,writable:!0});typeof window<"u"&&typeof window.Event<"u"&&(Object.setPrototypeOf(wt.prototype,window.Event.prototype),Jn.set(window.Event.prototype,wt));ws=new WeakMap,is=1,ss=2,Lr=3;Be.prototype={addEventListener(t,r,o){if(r==null)return;if(typeof r!="function"&&!Ir(r))throw new TypeError("'listener' should be a function or an object.");let i=Yt(this),a=Ir(o),c=Boolean(a?o.capture:o)?is:ss,h={listener:r,listenerType:c,passive:a&&Boolean(o.passive),once:a&&Boolean(o.once),next:null},p=i.get(t);if(p===void 0){i.set(t,h);return}let f=null;for(;p!=null;){if(p.listener===r&&p.listenerType===c)return;f=p,p=p.next}f.next=h},removeEventListener(t,r,o){if(r==null)return;let i=Yt(this),u=(Ir(o)?Boolean(o.capture):Boolean(o))?is:ss,c=null,h=i.get(t);for(;h!=null;){if(h.listener===r&&h.listenerType===u){c!==null?c.next=h.next:h.next!==null?i.set(t,h.next):i.delete(t);return}c=h,h=h.next}},dispatchEvent(t){if(t==null||typeof t.type!="string")throw new TypeError('"event.type" should be a string.');let r=Yt(this),o=t.type,i=r.get(o);if(i==null)return!0;let a=Xl(this,t),u=null;for(;i!=null;){if(i.once?u!==null?u.next=i.next:i.next!==null?r.set(o,i.next):r.delete(o):u=i,os(a,i.passive?i.listener:null),typeof i.listener=="function")try{i.listener.call(this,a)}catch(c){typeof console<"u"&&typeof console.error=="function"&&console.error(c)}else i.listenerType!==Lr&&typeof i.listener.handleEvent=="function"&&i.listener.handleEvent(a);if(ec(a))break;i=i.next}return os(a,null),tc(a,0),rc(a,null),!a.defaultPrevented}};Object.defineProperty(Be.prototype,"constructor",{value:Be,configurable:!0,writable:!0});typeof window<"u"&&typeof window.EventTarget<"u"&&Object.setPrototypeOf(Be.prototype,window.EventTarget.prototype);St=class extends Be{constructor(){throw super(),new TypeError("AbortSignal cannot be constructed directly")}get aborted(){let r=Ur.get(this);if(typeof r!="boolean")throw new TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return r}};Ss(St.prototype,"abort");Ur=new WeakMap;Object.defineProperties(St.prototype,{aborted:{enumerable:!0}});typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(St.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});Rt=class{constructor(){Rs.set(this,oc())}get signal(){return us(this)}abort(){ic(us(this))}},Rs=new WeakMap;Object.defineProperties(Rt.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}});typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Rt.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"})});var jr=I(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.toCommandProperties=vt.toCommandValue=void 0;function Yc(t){return t==null?"":typeof t=="string"||t instanceof String?t:JSON.stringify(t)}vt.toCommandValue=Yc;function Gc(t){return Object.keys(t).length?{title:t.title,file:t.file,line:t.startLine,endLine:t.endLine,col:t.startColumn,endColumn:t.endColumn}:{}}vt.toCommandProperties=Gc});var Ws=I(ue=>{"use strict";var Qc=ue&&ue.__createBinding||(Object.create?function(t,r,o,i){i===void 0&&(i=o),Object.defineProperty(t,i,{enumerable:!0,get:function(){return r[o]}})}:function(t,r,o,i){i===void 0&&(i=o),t[i]=r[o]}),Jc=ue&&ue.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r}),Kc=ue&&ue.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var o in t)o!=="default"&&Object.hasOwnProperty.call(t,o)&&Qc(r,t,o);return Jc(r,t),r};Object.defineProperty(ue,"__esModule",{value:!0});ue.issue=ue.issueCommand=void 0;var Zc=Kc(require("os")),Fs=jr();function Ms(t,r,o){let i=new ao(t,r,o);process.stdout.write(i.toString()+Zc.EOL)}ue.issueCommand=Ms;function Xc(t,r=""){Ms(t,{},r)}ue.issue=Xc;var Is="::",ao=class{constructor(r,o,i){r||(r="missing.command"),this.command=r,this.properties=o,this.message=i}toString(){let r=Is+this.command;if(this.properties&&Object.keys(this.properties).length>0){r+=" ";let o=!0;for(let i in this.properties)if(this.properties.hasOwnProperty(i)){let a=this.properties[i];a&&(o?o=!1:r+=",",r+=`${i}=${tf(a)}`)}}return r+=`${Is}${ef(this.message)}`,r}};function ef(t){return Fs.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function tf(t){return Fs.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});var js=I(Re=>{"use strict";var rf=Re&&Re.__createBinding||(Object.create?function(t,r,o,i){i===void 0&&(i=o),Object.defineProperty(t,i,{enumerable:!0,get:function(){return r[o]}})}:function(t,r,o,i){i===void 0&&(i=o),t[i]=r[o]}),nf=Re&&Re.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r}),xs=Re&&Re.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var o in t)o!=="default"&&Object.hasOwnProperty.call(t,o)&&rf(r,t,o);return nf(r,t),r};Object.defineProperty(Re,"__esModule",{value:!0});Re.issueCommand=void 0;var Us=xs(require("fs")),of=xs(require("os")),sf=jr();function af(t,r){let o=process.env[`GITHUB_${t}`];if(!o)throw new Error(`Unable to find environment variable for file command ${t}`);if(!Us.existsSync(o))throw new Error(`Missing file at path: ${o}`);Us.appendFileSync(o,`${sf.toCommandValue(r)}${of.EOL}`,{encoding:"utf8"})}Re.issueCommand=af});var lo=I(uo=>{"use strict";Object.defineProperty(uo,"__esModule",{value:!0});uo.default=cf;var uf=lf(require("crypto"));function lf(t){return t&&t.__esModule?t:{default:t}}var Nr=new Uint8Array(256),$r=Nr.length;function cf(){return $r>Nr.length-16&&(uf.default.randomFillSync(Nr),$r=0),Nr.slice($r,$r+=16)}});var $s=I(zr=>{"use strict";Object.defineProperty(zr,"__esModule",{value:!0});zr.default=void 0;var ff=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;zr.default=ff});var Qt=I(Hr=>{"use strict";Object.defineProperty(Hr,"__esModule",{value:!0});Hr.default=void 0;var df=hf($s());function hf(t){return t&&t.__esModule?t:{default:t}}function pf(t){return typeof t=="string"&&df.default.test(t)}var mf=pf;Hr.default=mf});var Jt=I(Vr=>{"use strict";Object.defineProperty(Vr,"__esModule",{value:!0});Vr.default=void 0;var bf=yf(Qt());function yf(t){return t&&t.__esModule?t:{default:t}}var Q=[];for(let t=0;t<256;++t)Q.push((t+256).toString(16).substr(1));function gf(t,r=0){let o=(Q[t[r+0]]+Q[t[r+1]]+Q[t[r+2]]+Q[t[r+3]]+"-"+Q[t[r+4]]+Q[t[r+5]]+"-"+Q[t[r+6]]+Q[t[r+7]]+"-"+Q[t[r+8]]+Q[t[r+9]]+"-"+Q[t[r+10]]+Q[t[r+11]]+Q[t[r+12]]+Q[t[r+13]]+Q[t[r+14]]+Q[t[r+15]]).toLowerCase();if(!(0,bf.default)(o))throw TypeError("Stringified UUID is invalid");return o}var _f=gf;Vr.default=_f});var Hs=I(Yr=>{"use strict";Object.defineProperty(Yr,"__esModule",{value:!0});Yr.default=void 0;var wf=zs(lo()),Sf=zs(Jt());function zs(t){return t&&t.__esModule?t:{default:t}}var Ns,co,fo=0,ho=0;function Rf(t,r,o){let i=r&&o||0,a=r||new Array(16);t=t||{};let u=t.node||Ns,c=t.clockseq!==void 0?t.clockseq:co;if(u==null||c==null){let R=t.random||(t.rng||wf.default)();u==null&&(u=Ns=[R[0]|1,R[1],R[2],R[3],R[4],R[5]]),c==null&&(c=co=(R[6]<<8|R[7])&16383)}let h=t.msecs!==void 0?t.msecs:Date.now(),p=t.nsecs!==void 0?t.nsecs:ho+1,f=h-fo+(p-ho)/1e4;if(f<0&&t.clockseq===void 0&&(c=c+1&16383),(f<0||h>fo)&&t.nsecs===void 0&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");fo=h,ho=p,co=c,h+=122192928e5;let y=((h&268435455)*1e4+p)%4294967296;a[i++]=y>>>24&255,a[i++]=y>>>16&255,a[i++]=y>>>8&255,a[i++]=y&255;let _=h/4294967296*1e4&268435455;a[i++]=_>>>8&255,a[i++]=_&255,a[i++]=_>>>24&15|16,a[i++]=_>>>16&255,a[i++]=c>>>8|128,a[i++]=c&255;for(let R=0;R<6;++R)a[i+R]=u[R];return r||(0,Sf.default)(a)}var vf=Rf;Yr.default=vf});var po=I(Gr=>{"use strict";Object.defineProperty(Gr,"__esModule",{value:!0});Gr.default=void 0;var Ef=Tf(Qt());function Tf(t){return t&&t.__esModule?t:{default:t}}function Pf(t){if(!(0,Ef.default)(t))throw TypeError("Invalid UUID");let r,o=new Uint8Array(16);return o[0]=(r=parseInt(t.slice(0,8),16))>>>24,o[1]=r>>>16&255,o[2]=r>>>8&255,o[3]=r&255,o[4]=(r=parseInt(t.slice(9,13),16))>>>8,o[5]=r&255,o[6]=(r=parseInt(t.slice(14,18),16))>>>8,o[7]=r&255,o[8]=(r=parseInt(t.slice(19,23),16))>>>8,o[9]=r&255,o[10]=(r=parseInt(t.slice(24,36),16))/1099511627776&255,o[11]=r/4294967296&255,o[12]=r>>>24&255,o[13]=r>>>16&255,o[14]=r>>>8&255,o[15]=r&255,o}var Af=Pf;Gr.default=Af});var mo=I(nt=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});nt.default=Bf;nt.URL=nt.DNS=void 0;var Cf=Vs(Jt()),Of=Vs(po());function Vs(t){return t&&t.__esModule?t:{default:t}}function qf(t){t=unescape(encodeURIComponent(t));let r=[];for(let o=0;o<t.length;++o)r.push(t.charCodeAt(o));return r}var Ys="6ba7b810-9dad-11d1-80b4-00c04fd430c8";nt.DNS=Ys;var Gs="6ba7b811-9dad-11d1-80b4-00c04fd430c8";nt.URL=Gs;function Bf(t,r,o){function i(a,u,c,h){if(typeof a=="string"&&(a=qf(a)),typeof u=="string"&&(u=(0,Of.default)(u)),u.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let p=new Uint8Array(16+a.length);if(p.set(u),p.set(a,u.length),p=o(p),p[6]=p[6]&15|r,p[8]=p[8]&63|128,c){h=h||0;for(let f=0;f<16;++f)c[h+f]=p[f];return c}return(0,Cf.default)(p)}try{i.name=t}catch{}return i.DNS=Ys,i.URL=Gs,i}});var Qs=I(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.default=void 0;var Df=kf(require("crypto"));function kf(t){return t&&t.__esModule?t:{default:t}}function Lf(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),Df.default.createHash("md5").update(t).digest()}var If=Lf;Qr.default=If});var Ks=I(Jr=>{"use strict";Object.defineProperty(Jr,"__esModule",{value:!0});Jr.default=void 0;var Ff=Js(mo()),Mf=Js(Qs());function Js(t){return t&&t.__esModule?t:{default:t}}var Wf=(0,Ff.default)("v3",48,Mf.default),Uf=Wf;Jr.default=Uf});var Xs=I(Kr=>{"use strict";Object.defineProperty(Kr,"__esModule",{value:!0});Kr.default=void 0;var xf=Zs(lo()),jf=Zs(Jt());function Zs(t){return t&&t.__esModule?t:{default:t}}function $f(t,r,o){t=t||{};let i=t.random||(t.rng||xf.default)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,r){o=o||0;for(let a=0;a<16;++a)r[o+a]=i[a];return r}return(0,jf.default)(i)}var Nf=$f;Kr.default=Nf});var ea=I(Zr=>{"use strict";Object.defineProperty(Zr,"__esModule",{value:!0});Zr.default=void 0;var zf=Hf(require("crypto"));function Hf(t){return t&&t.__esModule?t:{default:t}}function Vf(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),zf.default.createHash("sha1").update(t).digest()}var Yf=Vf;Zr.default=Yf});var ra=I(Xr=>{"use strict";Object.defineProperty(Xr,"__esModule",{value:!0});Xr.default=void 0;var Gf=ta(mo()),Qf=ta(ea());function ta(t){return t&&t.__esModule?t:{default:t}}var Jf=(0,Gf.default)("v5",80,Qf.default),Kf=Jf;Xr.default=Kf});var na=I(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});en.default=void 0;var Zf="00000000-0000-0000-0000-000000000000";en.default=Zf});var oa=I(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});tn.default=void 0;var Xf=ed(Qt());function ed(t){return t&&t.__esModule?t:{default:t}}function td(t){if(!(0,Xf.default)(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var rd=td;tn.default=rd});var ia=I(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});Object.defineProperty(be,"v1",{enumerable:!0,get:function(){return nd.default}});Object.defineProperty(be,"v3",{enumerable:!0,get:function(){return od.default}});Object.defineProperty(be,"v4",{enumerable:!0,get:function(){return id.default}});Object.defineProperty(be,"v5",{enumerable:!0,get:function(){return sd.default}});Object.defineProperty(be,"NIL",{enumerable:!0,get:function(){return ad.default}});Object.defineProperty(be,"version",{enumerable:!0,get:function(){return ud.default}});Object.defineProperty(be,"validate",{enumerable:!0,get:function(){return ld.default}});Object.defineProperty(be,"stringify",{enumerable:!0,get:function(){return cd.default}});Object.defineProperty(be,"parse",{enumerable:!0,get:function(){return fd.default}});var nd=De(Hs()),od=De(Ks()),id=De(Xs()),sd=De(ra()),ad=De(na()),ud=De(oa()),ld=De(Qt()),cd=De(Jt()),fd=De(po());function De(t){return t&&t.__esModule?t:{default:t}}});var aa=I(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.checkBypass=Et.getProxyUrl=void 0;function dd(t){let r=t.protocol==="https:";if(sa(t))return;let o=(()=>r?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)();if(o)return new URL(o)}Et.getProxyUrl=dd;function sa(t){if(!t.hostname)return!1;let r=process.env.no_proxy||process.env.NO_PROXY||"";if(!r)return!1;let o;t.port?o=Number(t.port):t.protocol==="http:"?o=80:t.protocol==="https:"&&(o=443);let i=[t.hostname.toUpperCase()];typeof o=="number"&&i.push(`${i[0]}:${o}`);for(let a of r.split(",").map(u=>u.trim().toUpperCase()).filter(u=>u))if(i.some(u=>u===a))return!0;return!1}Et.checkBypass=sa});var fa=I(Tt=>{"use strict";var ip=require("net"),hd=require("tls"),bo=require("http"),ua=require("https"),pd=require("events"),sp=require("assert"),md=require("util");Tt.httpOverHttp=bd;Tt.httpsOverHttp=yd;Tt.httpOverHttps=gd;Tt.httpsOverHttps=_d;function bd(t){var r=new ke(t);return r.request=bo.request,r}function yd(t){var r=new ke(t);return r.request=bo.request,r.createSocket=la,r.defaultPort=443,r}function gd(t){var r=new ke(t);return r.request=ua.request,r}function _d(t){var r=new ke(t);return r.request=ua.request,r.createSocket=la,r.defaultPort=443,r}function ke(t){var r=this;r.options=t||{},r.proxyOptions=r.options.proxy||{},r.maxSockets=r.options.maxSockets||bo.Agent.defaultMaxSockets,r.requests=[],r.sockets=[],r.on("free",function(i,a,u,c){for(var h=ca(a,u,c),p=0,f=r.requests.length;p<f;++p){var y=r.requests[p];if(y.host===h.host&&y.port===h.port){r.requests.splice(p,1),y.request.onSocket(i);return}}i.destroy(),r.removeSocket(i)})}md.inherits(ke,pd.EventEmitter);ke.prototype.addRequest=function(r,o,i,a){var u=this,c=yo({request:r},u.options,ca(o,i,a));if(u.sockets.length>=this.maxSockets){u.requests.push(c);return}u.createSocket(c,function(h){h.on("free",p),h.on("close",f),h.on("agentRemove",f),r.onSocket(h);function p(){u.emit("free",h,c)}function f(y){u.removeSocket(h),h.removeListener("free",p),h.removeListener("close",f),h.removeListener("agentRemove",f)}})};ke.prototype.createSocket=function(r,o){var i=this,a={};i.sockets.push(a);var u=yo({},i.proxyOptions,{method:"CONNECT",path:r.host+":"+r.port,agent:!1,headers:{host:r.host+":"+r.port}});r.localAddress&&(u.localAddress=r.localAddress),u.proxyAuth&&(u.headers=u.headers||{},u.headers["Proxy-Authorization"]="Basic "+new Buffer(u.proxyAuth).toString("base64")),$e("making CONNECT request");var c=i.request(u);c.useChunkedEncodingByDefault=!1,c.once("response",h),c.once("upgrade",p),c.once("connect",f),c.once("error",y),c.end();function h(_){_.upgrade=!0}function p(_,R,T){process.nextTick(function(){f(_,R,T)})}function f(_,R,T){if(c.removeAllListeners(),R.removeAllListeners(),_.statusCode!==200){$e("tunneling socket could not be established, statusCode=%d",_.statusCode),R.destroy();var g=new Error("tunneling socket could not be established, statusCode="+_.statusCode);g.code="ECONNRESET",r.request.emit("error",g),i.removeSocket(a);return}if(T.length>0){$e("got illegal response body from proxy"),R.destroy();var g=new Error("got illegal response body from proxy");g.code="ECONNRESET",r.request.emit("error",g),i.removeSocket(a);return}return $e("tunneling connection has established"),i.sockets[i.sockets.indexOf(a)]=R,o(R)}function y(_){c.removeAllListeners(),$e(`tunneling socket could not be established, cause=%s
`,_.message,_.stack);var R=new Error("tunneling socket could not be established, cause="+_.message);R.code="ECONNRESET",r.request.emit("error",R),i.removeSocket(a)}};ke.prototype.removeSocket=function(r){var o=this.sockets.indexOf(r);if(o!==-1){this.sockets.splice(o,1);var i=this.requests.shift();i&&this.createSocket(i,function(a){i.request.onSocket(a)})}};function la(t,r){var o=this;ke.prototype.createSocket.call(o,t,function(i){var a=t.request.getHeader("host"),u=yo({},o.options,{socket:i,servername:a?a.replace(/:.*$/,""):t.host}),c=hd.connect(0,u);o.sockets[o.sockets.indexOf(i)]=c,r(c)})}function ca(t,r,o){return typeof t=="string"?{host:t,port:r,localAddress:o}:t}function yo(t){for(var r=1,o=arguments.length;r<o;++r){var i=arguments[r];if(typeof i=="object")for(var a=Object.keys(i),u=0,c=a.length;u<c;++u){var h=a[u];i[h]!==void 0&&(t[h]=i[h])}}return t}var $e;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?$e=function(){var t=Array.prototype.slice.call(arguments);typeof t[0]=="string"?t[0]="TUNNEL: "+t[0]:t.unshift("TUNNEL:"),console.error.apply(console,t)}:$e=function(){};Tt.debug=$e});var ha=I((up,da)=>{da.exports=fa()});var ma=I(L=>{"use strict";var wd=L&&L.__createBinding||(Object.create?function(t,r,o,i){i===void 0&&(i=o),Object.defineProperty(t,i,{enumerable:!0,get:function(){return r[o]}})}:function(t,r,o,i){i===void 0&&(i=o),t[i]=r[o]}),Sd=L&&L.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r}),an=L&&L.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var o in t)o!=="default"&&Object.hasOwnProperty.call(t,o)&&wd(r,t,o);return Sd(r,t),r},H=L&&L.__awaiter||function(t,r,o,i){function a(u){return u instanceof o?u:new o(function(c){c(u)})}return new(o||(o=Promise))(function(u,c){function h(y){try{f(i.next(y))}catch(_){c(_)}}function p(y){try{f(i.throw(y))}catch(_){c(_)}}function f(y){y.done?u(y.value):a(y.value).then(h,p)}f((i=i.apply(t,r||[])).next())})};Object.defineProperty(L,"__esModule",{value:!0});L.HttpClient=L.isHttps=L.HttpClientResponse=L.HttpClientError=L.getProxyUrl=L.MediaTypes=L.Headers=L.HttpCodes=void 0;var rn=an(require("http")),go=an(require("https")),pa=an(aa()),nn=an(ha()),ye;(function(t){t[t.OK=200]="OK",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.ResourceMoved=302]="ResourceMoved",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.SwitchProxy=306]="SwitchProxy",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.TooManyRequests=429]="TooManyRequests",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout"})(ye=L.HttpCodes||(L.HttpCodes={}));var K;(function(t){t.Accept="accept",t.ContentType="content-type"})(K=L.Headers||(L.Headers={}));var Ne;(function(t){t.ApplicationJson="application/json"})(Ne=L.MediaTypes||(L.MediaTypes={}));function Rd(t){let r=pa.getProxyUrl(new URL(t));return r?r.href:""}L.getProxyUrl=Rd;var vd=[ye.MovedPermanently,ye.ResourceMoved,ye.SeeOther,ye.TemporaryRedirect,ye.PermanentRedirect],Ed=[ye.BadGateway,ye.ServiceUnavailable,ye.GatewayTimeout],Td=["OPTIONS","GET","DELETE","HEAD"],Pd=10,Ad=5,Pt=class extends Error{constructor(r,o){super(r),this.name="HttpClientError",this.statusCode=o,Object.setPrototypeOf(this,Pt.prototype)}};L.HttpClientError=Pt;var sn=class{constructor(r){this.message=r}readBody(){return H(this,void 0,void 0,function*(){return new Promise(r=>H(this,void 0,void 0,function*(){let o=Buffer.alloc(0);this.message.on("data",i=>{o=Buffer.concat([o,i])}),this.message.on("end",()=>{r(o.toString())})}))})}};L.HttpClientResponse=sn;function Cd(t){return new URL(t).protocol==="https:"}L.isHttps=Cd;var _o=class{constructor(r,o,i){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=r,this.handlers=o||[],this.requestOptions=i,i&&(i.ignoreSslError!=null&&(this._ignoreSslError=i.ignoreSslError),this._socketTimeout=i.socketTimeout,i.allowRedirects!=null&&(this._allowRedirects=i.allowRedirects),i.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=i.allowRedirectDowngrade),i.maxRedirects!=null&&(this._maxRedirects=Math.max(i.maxRedirects,0)),i.keepAlive!=null&&(this._keepAlive=i.keepAlive),i.allowRetries!=null&&(this._allowRetries=i.allowRetries),i.maxRetries!=null&&(this._maxRetries=i.maxRetries))}options(r,o){return H(this,void 0,void 0,function*(){return this.request("OPTIONS",r,null,o||{})})}get(r,o){return H(this,void 0,void 0,function*(){return this.request("GET",r,null,o||{})})}del(r,o){return H(this,void 0,void 0,function*(){return this.request("DELETE",r,null,o||{})})}post(r,o,i){return H(this,void 0,void 0,function*(){return this.request("POST",r,o,i||{})})}patch(r,o,i){return H(this,void 0,void 0,function*(){return this.request("PATCH",r,o,i||{})})}put(r,o,i){return H(this,void 0,void 0,function*(){return this.request("PUT",r,o,i||{})})}head(r,o){return H(this,void 0,void 0,function*(){return this.request("HEAD",r,null,o||{})})}sendStream(r,o,i,a){return H(this,void 0,void 0,function*(){return this.request(r,o,i,a)})}getJson(r,o={}){return H(this,void 0,void 0,function*(){o[K.Accept]=this._getExistingOrDefaultHeader(o,K.Accept,Ne.ApplicationJson);let i=yield this.get(r,o);return this._processResponse(i,this.requestOptions)})}postJson(r,o,i={}){return H(this,void 0,void 0,function*(){let a=JSON.stringify(o,null,2);i[K.Accept]=this._getExistingOrDefaultHeader(i,K.Accept,Ne.ApplicationJson),i[K.ContentType]=this._getExistingOrDefaultHeader(i,K.ContentType,Ne.ApplicationJson);let u=yield this.post(r,a,i);return this._processResponse(u,this.requestOptions)})}putJson(r,o,i={}){return H(this,void 0,void 0,function*(){let a=JSON.stringify(o,null,2);i[K.Accept]=this._getExistingOrDefaultHeader(i,K.Accept,Ne.ApplicationJson),i[K.ContentType]=this._getExistingOrDefaultHeader(i,K.ContentType,Ne.ApplicationJson);let u=yield this.put(r,a,i);return this._processResponse(u,this.requestOptions)})}patchJson(r,o,i={}){return H(this,void 0,void 0,function*(){let a=JSON.stringify(o,null,2);i[K.Accept]=this._getExistingOrDefaultHeader(i,K.Accept,Ne.ApplicationJson),i[K.ContentType]=this._getExistingOrDefaultHeader(i,K.ContentType,Ne.ApplicationJson);let u=yield this.patch(r,a,i);return this._processResponse(u,this.requestOptions)})}request(r,o,i,a){return H(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let u=new URL(o),c=this._prepareRequest(r,u,a),h=this._allowRetries&&Td.includes(r)?this._maxRetries+1:1,p=0,f;do{if(f=yield this.requestRaw(c,i),f&&f.message&&f.message.statusCode===ye.Unauthorized){let _;for(let R of this.handlers)if(R.canHandleAuthentication(f)){_=R;break}return _?_.handleAuthentication(this,c,i):f}let y=this._maxRedirects;for(;f.message.statusCode&&vd.includes(f.message.statusCode)&&this._allowRedirects&&y>0;){let _=f.message.headers.location;if(!_)break;let R=new URL(_);if(u.protocol==="https:"&&u.protocol!==R.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield f.readBody(),R.hostname!==u.hostname)for(let T in a)T.toLowerCase()==="authorization"&&delete a[T];c=this._prepareRequest(r,R,a),f=yield this.requestRaw(c,i),y--}if(!f.message.statusCode||!Ed.includes(f.message.statusCode))return f;p+=1,p<h&&(yield f.readBody(),yield this._performExponentialBackoff(p))}while(p<h);return f})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(r,o){return H(this,void 0,void 0,function*(){return new Promise((i,a)=>{function u(c,h){c?a(c):h?i(h):a(new Error("Unknown error"))}this.requestRawWithCallback(r,o,u)})})}requestRawWithCallback(r,o,i){typeof o=="string"&&(r.options.headers||(r.options.headers={}),r.options.headers["Content-Length"]=Buffer.byteLength(o,"utf8"));let a=!1;function u(p,f){a||(a=!0,i(p,f))}let c=r.httpModule.request(r.options,p=>{let f=new sn(p);u(void 0,f)}),h;c.on("socket",p=>{h=p}),c.setTimeout(this._socketTimeout||3*6e4,()=>{h&&h.end(),u(new Error(`Request timeout: ${r.options.path}`))}),c.on("error",function(p){u(p)}),o&&typeof o=="string"&&c.write(o,"utf8"),o&&typeof o!="string"?(o.on("close",function(){c.end()}),o.pipe(c)):c.end()}getAgent(r){let o=new URL(r);return this._getAgent(o)}_prepareRequest(r,o,i){let a={};a.parsedUrl=o;let u=a.parsedUrl.protocol==="https:";a.httpModule=u?go:rn;let c=u?443:80;if(a.options={},a.options.host=a.parsedUrl.hostname,a.options.port=a.parsedUrl.port?parseInt(a.parsedUrl.port):c,a.options.path=(a.parsedUrl.pathname||"")+(a.parsedUrl.search||""),a.options.method=r,a.options.headers=this._mergeHeaders(i),this.userAgent!=null&&(a.options.headers["user-agent"]=this.userAgent),a.options.agent=this._getAgent(a.parsedUrl),this.handlers)for(let h of this.handlers)h.prepareRequest(a.options);return a}_mergeHeaders(r){return this.requestOptions&&this.requestOptions.headers?Object.assign({},on(this.requestOptions.headers),on(r||{})):on(r||{})}_getExistingOrDefaultHeader(r,o,i){let a;return this.requestOptions&&this.requestOptions.headers&&(a=on(this.requestOptions.headers)[o]),r[o]||a||i}_getAgent(r){let o,i=pa.getProxyUrl(r),a=i&&i.hostname;if(this._keepAlive&&a&&(o=this._proxyAgent),this._keepAlive&&!a&&(o=this._agent),o)return o;let u=r.protocol==="https:",c=100;if(this.requestOptions&&(c=this.requestOptions.maxSockets||rn.globalAgent.maxSockets),i&&i.hostname){let h={maxSockets:c,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(i.username||i.password)&&{proxyAuth:`${i.username}:${i.password}`}),{host:i.hostname,port:i.port})},p,f=i.protocol==="https:";u?p=f?nn.httpsOverHttps:nn.httpsOverHttp:p=f?nn.httpOverHttps:nn.httpOverHttp,o=p(h),this._proxyAgent=o}if(this._keepAlive&&!o){let h={keepAlive:this._keepAlive,maxSockets:c};o=u?new go.Agent(h):new rn.Agent(h),this._agent=o}return o||(o=u?go.globalAgent:rn.globalAgent),u&&this._ignoreSslError&&(o.options=Object.assign(o.options||{},{rejectUnauthorized:!1})),o}_performExponentialBackoff(r){return H(this,void 0,void 0,function*(){r=Math.min(Pd,r);let o=Ad*Math.pow(2,r);return new Promise(i=>setTimeout(()=>i(),o))})}_processResponse(r,o){return H(this,void 0,void 0,function*(){return new Promise((i,a)=>H(this,void 0,void 0,function*(){let u=r.message.statusCode||0,c={statusCode:u,result:null,headers:{}};u===ye.NotFound&&i(c);function h(y,_){if(typeof _=="string"){let R=new Date(_);if(!isNaN(R.valueOf()))return R}return _}let p,f;try{f=yield r.readBody(),f&&f.length>0&&(o&&o.deserializeDates?p=JSON.parse(f,h):p=JSON.parse(f),c.result=p),c.headers=r.message.headers}catch{}if(u>299){let y;p&&p.message?y=p.message:f&&f.length>0?y=f:y=`Failed request: (${u})`;let _=new Pt(y,u);_.result=c.result,a(_)}else i(c)}))})}};L.HttpClient=_o;var on=t=>Object.keys(t).reduce((r,o)=>(r[o.toLowerCase()]=t[o],r),{})});var ba=I(ve=>{"use strict";var vo=ve&&ve.__awaiter||function(t,r,o,i){function a(u){return u instanceof o?u:new o(function(c){c(u)})}return new(o||(o=Promise))(function(u,c){function h(y){try{f(i.next(y))}catch(_){c(_)}}function p(y){try{f(i.throw(y))}catch(_){c(_)}}function f(y){y.done?u(y.value):a(y.value).then(h,p)}f((i=i.apply(t,r||[])).next())})};Object.defineProperty(ve,"__esModule",{value:!0});ve.PersonalAccessTokenCredentialHandler=ve.BearerCredentialHandler=ve.BasicCredentialHandler=void 0;var wo=class{constructor(r,o){this.username=r,this.password=o}prepareRequest(r){if(!r.headers)throw Error("The request has no headers");r.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return vo(this,void 0,void 0,function*(){throw new Error("not implemented")})}};ve.BasicCredentialHandler=wo;var So=class{constructor(r){this.token=r}prepareRequest(r){if(!r.headers)throw Error("The request has no headers");r.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return vo(this,void 0,void 0,function*(){throw new Error("not implemented")})}};ve.BearerCredentialHandler=So;var Ro=class{constructor(r){this.token=r}prepareRequest(r){if(!r.headers)throw Error("The request has no headers");r.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return vo(this,void 0,void 0,function*(){throw new Error("not implemented")})}};ve.PersonalAccessTokenCredentialHandler=Ro});var _a=I(At=>{"use strict";var ya=At&&At.__awaiter||function(t,r,o,i){function a(u){return u instanceof o?u:new o(function(c){c(u)})}return new(o||(o=Promise))(function(u,c){function h(y){try{f(i.next(y))}catch(_){c(_)}}function p(y){try{f(i.throw(y))}catch(_){c(_)}}function f(y){y.done?u(y.value):a(y.value).then(h,p)}f((i=i.apply(t,r||[])).next())})};Object.defineProperty(At,"__esModule",{value:!0});At.OidcClient=void 0;var Od=ma(),qd=ba(),ga=Eo(),ze=class{static createHttpClient(r=!0,o=10){let i={allowRetries:r,maxRetries:o};return new Od.HttpClient("actions/oidc-client",[new qd.BearerCredentialHandler(ze.getRequestToken())],i)}static getRequestToken(){let r=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!r)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return r}static getIDTokenUrl(){let r=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!r)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return r}static getCall(r){var o;return ya(this,void 0,void 0,function*(){let u=(o=(yield ze.createHttpClient().getJson(r).catch(c=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${c.statusCode}
 
        Error Message: ${c.result.message}`)})).result)===null||o===void 0?void 0:o.value;if(!u)throw new Error("Response json body do not have ID Token field");return u})}static getIDToken(r){return ya(this,void 0,void 0,function*(){try{let o=ze.getIDTokenUrl();if(r){let a=encodeURIComponent(r);o=`${o}&audience=${a}`}ga.debug(`ID token url is ${o}`);let i=yield ze.getCall(o);return ga.setSecret(i),i}catch(o){throw new Error(`Error message: ${o.message}`)}})}};At.OidcClient=ze});var Co=I(ee=>{"use strict";var To=ee&&ee.__awaiter||function(t,r,o,i){function a(u){return u instanceof o?u:new o(function(c){c(u)})}return new(o||(o=Promise))(function(u,c){function h(y){try{f(i.next(y))}catch(_){c(_)}}function p(y){try{f(i.throw(y))}catch(_){c(_)}}function f(y){y.done?u(y.value):a(y.value).then(h,p)}f((i=i.apply(t,r||[])).next())})};Object.defineProperty(ee,"__esModule",{value:!0});ee.summary=ee.markdownSummary=ee.SUMMARY_DOCS_URL=ee.SUMMARY_ENV_VAR=void 0;var Bd=require("os"),Po=require("fs"),{access:Dd,appendFile:kd,writeFile:Ld}=Po.promises;ee.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";ee.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var Ao=class{constructor(){this._buffer=""}filePath(){return To(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let r=process.env[ee.SUMMARY_ENV_VAR];if(!r)throw new Error(`Unable to find environment variable for $${ee.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield Dd(r,Po.constants.R_OK|Po.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${r}'. Check if the file has correct read/write permissions.`)}return this._filePath=r,this._filePath})}wrap(r,o,i={}){let a=Object.entries(i).map(([u,c])=>` ${u}="${c}"`).join("");return o?`<${r}${a}>${o}</${r}>`:`<${r}${a}>`}write(r){return To(this,void 0,void 0,function*(){let o=!!(r!=null&&r.overwrite),i=yield this.filePath();return yield(o?Ld:kd)(i,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return To(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(r,o=!1){return this._buffer+=r,o?this.addEOL():this}addEOL(){return this.addRaw(Bd.EOL)}addCodeBlock(r,o){let i=Object.assign({},o&&{lang:o}),a=this.wrap("pre",this.wrap("code",r),i);return this.addRaw(a).addEOL()}addList(r,o=!1){let i=o?"ol":"ul",a=r.map(c=>this.wrap("li",c)).join(""),u=this.wrap(i,a);return this.addRaw(u).addEOL()}addTable(r){let o=r.map(a=>{let u=a.map(c=>{if(typeof c=="string")return this.wrap("td",c);let{header:h,data:p,colspan:f,rowspan:y}=c,_=h?"th":"td",R=Object.assign(Object.assign({},f&&{colspan:f}),y&&{rowspan:y});return this.wrap(_,p,R)}).join("");return this.wrap("tr",u)}).join(""),i=this.wrap("table",o);return this.addRaw(i).addEOL()}addDetails(r,o){let i=this.wrap("details",this.wrap("summary",r)+o);return this.addRaw(i).addEOL()}addImage(r,o,i){let{width:a,height:u}=i||{},c=Object.assign(Object.assign({},a&&{width:a}),u&&{height:u}),h=this.wrap("img",null,Object.assign({src:r,alt:o},c));return this.addRaw(h).addEOL()}addHeading(r,o){let i=`h${o}`,a=["h1","h2","h3","h4","h5","h6"].includes(i)?i:"h1",u=this.wrap(a,r);return this.addRaw(u).addEOL()}addSeparator(){let r=this.wrap("hr",null);return this.addRaw(r).addEOL()}addBreak(){let r=this.wrap("br",null);return this.addRaw(r).addEOL()}addQuote(r,o){let i=Object.assign({},o&&{cite:o}),a=this.wrap("blockquote",r,i);return this.addRaw(a).addEOL()}addLink(r,o){let i=this.wrap("a",r,{href:o});return this.addRaw(i).addEOL()}},wa=new Ao;ee.markdownSummary=wa;ee.summary=wa});var Sa=I(te=>{"use strict";var Id=te&&te.__createBinding||(Object.create?function(t,r,o,i){i===void 0&&(i=o),Object.defineProperty(t,i,{enumerable:!0,get:function(){return r[o]}})}:function(t,r,o,i){i===void 0&&(i=o),t[i]=r[o]}),Fd=te&&te.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r}),Md=te&&te.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var o in t)o!=="default"&&Object.hasOwnProperty.call(t,o)&&Id(r,t,o);return Fd(r,t),r};Object.defineProperty(te,"__esModule",{value:!0});te.toPlatformPath=te.toWin32Path=te.toPosixPath=void 0;var Wd=Md(require("path"));function Ud(t){return t.replace(/[\\]/g,"/")}te.toPosixPath=Ud;function xd(t){return t.replace(/[/]/g,"\\")}te.toWin32Path=xd;function jd(t){return t.replace(/[/\\]/g,Wd.sep)}te.toPlatformPath=jd});var Eo=I(v=>{"use strict";var $d=v&&v.__createBinding||(Object.create?function(t,r,o,i){i===void 0&&(i=o),Object.defineProperty(t,i,{enumerable:!0,get:function(){return r[o]}})}:function(t,r,o,i){i===void 0&&(i=o),t[i]=r[o]}),Nd=v&&v.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r}),Ra=v&&v.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var o in t)o!=="default"&&Object.hasOwnProperty.call(t,o)&&$d(r,t,o);return Nd(r,t),r},va=v&&v.__awaiter||function(t,r,o,i){function a(u){return u instanceof o?u:new o(function(c){c(u)})}return new(o||(o=Promise))(function(u,c){function h(y){try{f(i.next(y))}catch(_){c(_)}}function p(y){try{f(i.throw(y))}catch(_){c(_)}}function f(y){y.done?u(y.value):a(y.value).then(h,p)}f((i=i.apply(t,r||[])).next())})};Object.defineProperty(v,"__esModule",{value:!0});v.getIDToken=v.getState=v.saveState=v.group=v.endGroup=v.startGroup=v.info=v.notice=v.warning=v.error=v.debug=v.isDebug=v.setFailed=v.setCommandEcho=v.setOutput=v.getBooleanInput=v.getMultilineInput=v.getInput=v.addPath=v.setSecret=v.exportVariable=v.ExitCode=void 0;var le=Ws(),Ea=js(),ln=jr(),un=Ra(require("os")),zd=Ra(require("path")),Hd=ia(),Vd=_a(),Ta;(function(t){t[t.Success=0]="Success",t[t.Failure=1]="Failure"})(Ta=v.ExitCode||(v.ExitCode={}));function Yd(t,r){let o=ln.toCommandValue(r);if(process.env[t]=o,process.env.GITHUB_ENV||""){let a=`ghadelimiter_${Hd.v4()}`;if(t.includes(a))throw new Error(`Unexpected input: name should not contain the delimiter "${a}"`);if(o.includes(a))throw new Error(`Unexpected input: value should not contain the delimiter "${a}"`);let u=`${t}<<${a}${un.EOL}${o}${un.EOL}${a}`;Ea.issueCommand("ENV",u)}else le.issueCommand("set-env",{name:t},o)}v.exportVariable=Yd;function Gd(t){le.issueCommand("add-mask",{},t)}v.setSecret=Gd;function Qd(t){process.env.GITHUB_PATH||""?Ea.issueCommand("PATH",t):le.issueCommand("add-path",{},t),process.env.PATH=`${t}${zd.delimiter}${process.env.PATH}`}v.addPath=Qd;function Oo(t,r){let o=process.env[`INPUT_${t.replace(/ /g,"_").toUpperCase()}`]||"";if(r&&r.required&&!o)throw new Error(`Input required and not supplied: ${t}`);return r&&r.trimWhitespace===!1?o:o.trim()}v.getInput=Oo;function Jd(t,r){return Oo(t,r).split(`
`).filter(i=>i!=="")}v.getMultilineInput=Jd;function Kd(t,r){let o=["true","True","TRUE"],i=["false","False","FALSE"],a=Oo(t,r);if(o.includes(a))return!0;if(i.includes(a))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${t}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}v.getBooleanInput=Kd;function Zd(t,r){process.stdout.write(un.EOL),le.issueCommand("set-output",{name:t},r)}v.setOutput=Zd;function Xd(t){le.issue("echo",t?"on":"off")}v.setCommandEcho=Xd;function eh(t){process.exitCode=Ta.Failure,Pa(t)}v.setFailed=eh;function th(){return process.env.RUNNER_DEBUG==="1"}v.isDebug=th;function rh(t){le.issueCommand("debug",{},t)}v.debug=rh;function Pa(t,r={}){le.issueCommand("error",ln.toCommandProperties(r),t instanceof Error?t.toString():t)}v.error=Pa;function nh(t,r={}){le.issueCommand("warning",ln.toCommandProperties(r),t instanceof Error?t.toString():t)}v.warning=nh;function oh(t,r={}){le.issueCommand("notice",ln.toCommandProperties(r),t instanceof Error?t.toString():t)}v.notice=oh;function ih(t){process.stdout.write(t+un.EOL)}v.info=ih;function Aa(t){le.issue("group",t)}v.startGroup=Aa;function Ca(){le.issue("endgroup")}v.endGroup=Ca;function sh(t,r){return va(this,void 0,void 0,function*(){Aa(t);let o;try{o=yield r()}finally{Ca()}return o})}v.group=sh;function ah(t,r){le.issueCommand("save-state",{name:t},r)}v.saveState=ah;function uh(t){return process.env[`STATE_${t}`]||""}v.getState=uh;function lh(t){return va(this,void 0,void 0,function*(){return yield Vd.OidcClient.getIDToken(t)})}v.getIDToken=lh;var ch=Co();Object.defineProperty(v,"summary",{enumerable:!0,get:function(){return ch.summary}});var fh=Co();Object.defineProperty(v,"markdownSummary",{enumerable:!0,get:function(){return fh.markdownSummary}});var qo=Sa();Object.defineProperty(v,"toPosixPath",{enumerable:!0,get:function(){return qo.toPosixPath}});Object.defineProperty(v,"toWin32Path",{enumerable:!0,get:function(){return qo.toWin32Path}});Object.defineProperty(v,"toPlatformPath",{enumerable:!0,get:function(){return qo.toPlatformPath}})});var ks=Ke(require("node:http"),1),Ls=Ke(require("node:https"),1);Br();Br();var Gt=require("node:fs");var{stat:sc}=Gt.promises;var xr=class{#e;#t;constructor(r){this.#e=r.path,this.#t=r.start,this.size=r.size,this.lastModified=r.lastModified,this.originalSize=r.originalSize===void 0?r.size:r.originalSize}slice(r,o){return new xr({path:this.#e,lastModified:this.lastModified,originalSize:this.originalSize,size:o-r,start:this.#t+r})}async*stream(){let{mtimeMs:r,size:o}=await sc(this.#e);if(r>this.lastModified||this.originalSize!==o)throw new bs("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*(0,Gt.createReadStream)(this.#e,{start:this.#t,end:this.#t+this.size-1})}get[Symbol.toStringTag](){return"Blob"}},eo=globalThis.fetch||Xn,Sh=globalThis.Blob||gt,Rh=globalThis.File||zt,vh=globalThis.FormData||Xe,vs=globalThis.Headers||oe,Eh=globalThis.Request||qe,Th=globalThis.Response||Y,Ph=globalThis.AbortController||Rt;var ac=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,uc=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,lc=/^["[{]|^-?\d[\d.]{0,14}$/;function cc(t,r){if(!(t==="__proto__"||t==="constructor"))return r}function Es(t,r={}){if(typeof t!="string")return t;let o=t.toLowerCase();if(o==="true")return!0;if(o==="false")return!1;if(o==="null")return null;if(o==="nan")return Number.NaN;if(o==="infinity")return Number.POSITIVE_INFINITY;if(o!=="undefined"){if(!lc.test(t)){if(r.strict)throw new SyntaxError("Invalid JSON");return t}try{return ac.test(t)||uc.test(t)?JSON.parse(t,cc):JSON.parse(t)}catch(i){if(r.strict)throw i;return t}}}var qh=String.fromCharCode;var fc=/#/g,dc=/&/g;var hc=/=/g;var Ps=/\+/g,pc=/%5b/gi,mc=/%5d/gi,bc=/%5e/gi,yc=/%60/gi,gc=/%7b/gi,_c=/%7c/gi,wc=/%7d/gi,Sc=/%20/gi;function Rc(t){return encodeURI(""+t).replace(_c,"|").replace(pc,"[").replace(mc,"]")}function ro(t){return Rc(t).replace(Ps,"%2B").replace(Sc,"+").replace(fc,"%23").replace(dc,"%26").replace(yc,"`").replace(gc,"{").replace(wc,"}").replace(bc,"^")}function to(t){return ro(t).replace(hc,"%3D")}function As(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function vc(t){return As(t.replace(Ps," "))}function Ec(t=""){let r={};t[0]==="?"&&(t=t.slice(1));for(let o of t.split("&")){let i=o.match(/([^=]+)=?(.*)/)||[];if(i.length<2)continue;let a=As(i[1]);if(a==="__proto__"||a==="constructor")continue;let u=vc(i[2]||"");r[a]?Array.isArray(r[a])?r[a].push(u):r[a]=[r[a],u]:r[a]=u}return r}function Tc(t,r){return(typeof r=="number"||typeof r=="boolean")&&(r=String(r)),r?Array.isArray(r)?r.map(o=>`${to(t)}=${ro(o)}`).join("&"):`${to(t)}=${ro(r)}`:to(t)}function Pc(t){return Object.keys(t).filter(r=>t[r]!==void 0).map(r=>Tc(r,t[r])).join("&")}var Ac=/^\w+:(\/\/)?/,Cc=/^\/\/[^/]+/;function Cs(t,r=!1){return Ac.test(t)||r&&Cc.test(t)}var Oc=/\/$|\/\?/;function no(t="",r=!1){return r?Oc.test(t):t.endsWith("/")}function qc(t="",r=!1){if(!r)return(no(t)?t.slice(0,-1):t)||"/";if(!no(t,!0))return t||"/";let[o,...i]=t.split("?");return(o.slice(0,-1)||"/")+(i.length>0?`?${i.join("?")}`:"")}function Bc(t="",r=!1){if(!r)return t.endsWith("/")?t:t+"/";if(no(t,!0))return t||"/";let[o,...i]=t.split("?");return o+"/"+(i.length>0?`?${i.join("?")}`:"")}function Dc(t=""){return t.startsWith("/")}function kc(t=""){return(Dc(t)?t.slice(1):t)||"/"}function Os(t,r){if(Lc(r)||Cs(t))return t;let o=qc(r);return t.startsWith(o)?t:Fc(o,t)}function qs(t,r){let o=Bs(t),i={...Ec(o.search),...r};return o.search=Pc(i),Mc(o)}function Lc(t){return!t||t==="/"}function Ic(t){return t&&t!=="/"}function Fc(t,...r){let o=t||"";for(let i of r.filter(a=>Ic(a)))o=o?Bc(o)+kc(i):i;return o}function Bs(t="",r){if(!Cs(t,!0))return r?Bs(r+t):Ts(t);let[o="",i,a=""]=(t.replace(/\\/g,"/").match(/([^/:]+:)?\/\/([^/@]+@)?(.*)/)||[]).splice(1),[u="",c=""]=(a.match(/([^#/?]*)(.*)?/)||[]).splice(1),{pathname:h,search:p,hash:f}=Ts(c.replace(/\/(?=[A-Za-z]:)/,""));return{protocol:o,auth:i?i.slice(0,Math.max(0,i.length-1)):"",host:u,pathname:h,search:p,hash:f}}function Ts(t=""){let[r="",o="",i=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:r,search:o,hash:i}}function Mc(t){let r=t.pathname+(t.search?(t.search.startsWith("?")?"":"?")+t.search:"")+t.hash;return t.protocol?t.protocol+"//"+(t.auth?t.auth+"@":"")+t.host+r:r}var oo=class extends Error{constructor(){super(...arguments),this.name="FetchError"}};function Wc(t,r,o){let i="";t&&o&&(i=`${o.status} ${o.statusText} (${t.toString()})`),r&&(i=`${r.message} (${i})`);let a=new oo(i);return Object.defineProperty(a,"request",{get(){return t}}),Object.defineProperty(a,"response",{get(){return o}}),Object.defineProperty(a,"data",{get(){return o&&o._data}}),Object.defineProperty(a,"status",{get(){return o&&o.status}}),Object.defineProperty(a,"statusText",{get(){return o&&o.statusText}}),Object.defineProperty(a,"statusCode",{get(){return o&&o.status}}),Object.defineProperty(a,"statusMessage",{get(){return o&&o.statusText}}),a}var Uc=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function Ds(t="GET"){return Uc.has(t.toUpperCase())}function xc(t){if(t===void 0)return!1;let r=typeof t;return r==="string"||r==="number"||r==="boolean"||r===null?!0:r!=="object"?!1:Array.isArray(t)?!0:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}var jc=new Set(["image/svg","application/xml","application/xhtml","application/html"]),$c=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function Nc(t=""){if(!t)return"json";let r=t.split(";").shift();return $c.test(r)?"json":jc.has(r)||r.startsWith("text/")?"text":"blob"}var zc=new Set([408,409,425,429,500,502,503,504]);function io(t){let{fetch:r,Headers:o}=t;function i(c){let h=c.error&&c.error.name==="AbortError"||!1;if(c.options.retry!==!1&&!h){let f=typeof c.options.retry=="number"?c.options.retry:Ds(c.options.method)?0:1,y=c.response&&c.response.status||500;if(f>0&&zc.has(y))return a(c.request,{...c.options,retry:f-1})}let p=Wc(c.request,c.error,c.response);throw Error.captureStackTrace&&Error.captureStackTrace(p,a),p}let a=async function(h,p={}){let f={request:h,options:{...t.defaults,...p},response:void 0,error:void 0};f.options.onRequest&&await f.options.onRequest(f),typeof f.request=="string"&&(f.options.baseURL&&(f.request=Os(f.request,f.options.baseURL)),(f.options.query||f.options.params)&&(f.request=qs(f.request,{...f.options.params,...f.options.query})),f.options.body&&Ds(f.options.method)&&xc(f.options.body)&&(f.options.body=typeof f.options.body=="string"?f.options.body:JSON.stringify(f.options.body),f.options.headers=new o(f.options.headers),f.options.headers.has("content-type")||f.options.headers.set("content-type","application/json"),f.options.headers.has("accept")||f.options.headers.set("accept","application/json"))),f.response=await r(f.request,f.options).catch(async _=>(f.error=_,f.options.onRequestError&&await f.options.onRequestError(f),i(f)));let y=(f.options.parseResponse?"json":f.options.responseType)||Nc(f.response.headers.get("content-type")||"");if(y==="json"){let _=await f.response.text(),R=f.options.parseResponse||Es;f.response._data=R(_)}else y==="stream"?f.response._data=f.response.body:f.response._data=await f.response[y]();return f.options.onResponse&&await f.options.onResponse(f),f.response.status>=400&&f.response.status<600?(f.options.onResponseError&&await f.options.onResponseError(f),i(f)):f.response},u=function(h,p){return a(h,p).then(f=>f._data)};return u.raw=a,u.native=r,u.create=(c={})=>io({...t,defaults:{...t.defaults,...c}}),u}function Hc(){if(!JSON.parse(process.env.FETCH_KEEP_ALIVE||"false"))return eo;let r={keepAlive:!0},o=new ks.default.Agent(r),i=new Ls.default.Agent(r),a={agent(u){return u.protocol==="http:"?o:i}};return function(c,h){return eo(c,{...a,...h})}}var so=globalThis.fetch||Hc(),Vc=globalThis.Headers||vs,Wh=io({fetch:so,Headers:Vc});var Ia=require("fs/promises"),Fa=require("path"),ge=Ke(Eo());var Bo,Oa,qa,Ba,Da=!0;typeof process<"u"&&({FORCE_COLOR:Bo,NODE_DISABLE_COLORS:Oa,NO_COLOR:qa,TERM:Ba}=process.env||{},Da=process.stdout&&process.stdout.isTTY);var dh={enabled:!Oa&&qa==null&&Ba!=="dumb"&&(Bo!=null&&Bo!=="0"||Da)};function U(t,r){let o=new RegExp(`\\x1b\\[${r}m`,"g"),i=`\x1B[${t}m`,a=`\x1B[${r}m`;return function(u){return!dh.enabled||u==null?u:i+(~(""+u).indexOf(a)?u.replace(o,a+i):u)+a}}var mp=U(0,0),ka=U(1,22),bp=U(2,22),yp=U(3,23),gp=U(4,24),_p=U(7,27),wp=U(8,28),Sp=U(9,29),Rp=U(30,39),vp=U(31,39),La=U(32,39),Ep=U(33,39),Tp=U(34,39),Pp=U(35,39),Ap=U(36,39),Cp=U(37,39),Op=U(90,39),qp=U(90,39),Bp=U(40,49),Dp=U(41,49),kp=U(42,49),Lp=U(43,49),Ip=U(44,49),Fp=U(45,49),Mp=U(46,49),Wp=U(47,49);var hh=t=>{console.log(ka(La("\u2714"))+" "+t)};(async()=>{let t={NAME:(0,ge.getInput)("name",{required:!0}),VERSION_NUMBER:(0,ge.getInput)("version-number",{required:!0}),PROJECT_ID:(0,ge.getInput)("project-id",{required:!0}),PACK_FILENAME:(0,ge.getInput)("pack-filename",{required:!0}),GAME_VERSIONS:(0,ge.getInput)("game-versions",{required:!0}),LOADERS:(0,ge.getInput)("loaders",{required:!0}),MODRINTH_TOKEN:(0,ge.getInput)("modrinth-token",{required:!0})},r=await(0,Ia.readFile)((0,Fa.join)(process.cwd(),t.PACK_FILENAME)),o=new File([r],t.PACK_FILENAME),i=new FormData,a={name:t.NAME,version_number:t.VERSION_NUMBER,game_versions:t.GAME_VERSIONS.split(","),version_type:"release",loaders:t.LOADERS.split(","),featured:!1,project_id:t.PROJECT_ID,file_parts:[t.PACK_FILENAME],dependencies:[]};i.append("data",JSON.stringify(a)),i.append(t.PACK_FILENAME,o);let u=await so("https://api.modrinth.com/v2/version",{method:"POST",body:i,headers:{Authorization:t.MODRINTH_TOKEN}});u.ok||(0,ge.error)(await u.text()),hh("Uploaded to Modrinth!")})().catch(t=>{(0,ge.error)(t),process.exit(1)});
/*! fetch-blob. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */
/*! formdata-polyfill. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */
/*! node-domexception. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */
